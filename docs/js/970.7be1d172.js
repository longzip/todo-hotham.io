"use strict";(globalThis["webpackChunktodolist"]=globalThis["webpackChunktodolist"]||[]).push([[970],{846:(t,e,a)=>{a.r(e),a.d(e,{default:()=>v});var n=a(1758),i=a(8790),s=a(9104);const h={key:0,class:"q-pa-md"},o={class:"q-gutter-y-md column"};function r(t,e,a,r,l,u){const d=(0,n.g2)("q-btn"),c=(0,n.g2)("ListHeader"),g=(0,n.g2)("q-icon"),m=(0,n.g2)("q-input"),p=(0,n.g2)("ThongTinTheBHYT"),T=(0,n.g2)("q-separator"),b=(0,n.g2)("q-list");return t.userDetails.isPro?((0,n.uX)(),(0,n.CE)("div",h,[(0,n.bF)(c,{bgcolor:"bg-orange-4"},{default:(0,n.k6)((()=>[(0,n.eW)("Hộ gia đình "+(0,i.v_)(t.bhyts.length)+" người. Số tiền thu: đ "+(0,i.v_)(parseInt(t.tongTienBHYTDaThu+t.tongTienBHXHDaThu).toLocaleString())+"/"+(0,i.v_)(t.bhyts.filter((t=>1==t.isBHYT||1==t.isBHXHTN)).length)+" ",1),(0,n.bF)(d,{rounded:"",color:"primary",onClick:e[0]||(e[0]=e=>t.print()),icon:"print"})])),_:1}),(0,n.Lk)("div",o,[(0,n.bF)(m,{outlined:"",modelValue:t.searchText,"onUpdate:modelValue":e[2]||(e[2]=e=>t.searchText=e),ref:"inputSearch",onKeyup:e[3]||(e[3]=(0,s.jR)((e=>t.timKiem(t.searchText)),["enter"])),placeholder:"Họ và tên",hint:"Nhập họ và tên rồi nhấn Enter để tìm kiếm",dense:""},{append:(0,n.k6)((()=>[""!==t.searchText?((0,n.uX)(),(0,n.Wv)(g,{key:0,name:"close",onClick:e[1]||(e[1]=e=>t.searchText=""),class:"cursor-pointer"})):(0,n.Q3)("",!0),(0,n.bF)(g,{name:"search"})])),_:1},8,["modelValue"])]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(t.bhyts,(t=>((0,n.uX)(),(0,n.Wv)(b,{key:t.id},{default:(0,n.k6)((()=>[(0,n.bF)(p,{bhyt:t},null,8,["bhyt"]),(0,n.bF)(T,{spaced:"",inset:""})])),_:2},1024)))),128))])):(0,n.Q3)("",!0)}var l=a(6980),u=a(3541),d=a(8018);const c=(0,n.pM)({components:{ThongTinTheBHYT:u.A,ListHeader:d.A},name:"IndexPage",data(){return{maHoGd:"",uniqid:"",searchText:""}},methods:{...(0,l.i0)("bhyts",["getAllBhyts","dongBoDuLieu"]),async timKiem(t){const e=t.split("|");e.length>1&&(this.searchText=e[0]),await this.dongBoDuLieu(this.searchText),this.$refs.inputSearch.select()},async loadData(){this.uniqid?await this.getAllBhyts({uniqid:this.uniqid}):await this.getAllBhyts({maHoGd:this.maHoGd})},async print(){if(this.bhyts.length>15||0===this.bhyts.length)return;let t=document.createElement("a");t.target="_blank",t.href=`https://app.hotham.vn/thanh-vien-ho-gia-dinh/1/pdf?maXaUpdate=${this.userDetails.maXa}&maSoBhxhs=${this.bhyts.map((t=>t.maSoBhxh)).join(",")}`,t.click()}},computed:{...(0,l.L8)("bhyts",["bhyts","tongTienBHYTDaThu","tongTienBHXHDaThu"]),...(0,l.aH)("auth",["userDetails"])},mounted(){this.maHoGd=this.$route.params.id,13===this.maHoGd.length&&(this.uniqid=this.maHoGd),this.loadData()}});var g=a(2807),m=a(1693),p=a(9270),T=a(492),b=a(3999),y=a(386),H=a(8582),k=a.n(H);const B=(0,g.A)(c,[["render",r]]),v=B;k()(c,"components",{QBtn:m.A,QInput:p.A,QIcon:T.A,QList:b.A,QSeparator:y.A})}}]);