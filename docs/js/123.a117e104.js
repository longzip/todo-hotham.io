"use strict";(self["webpackChunktodo_buudienxatulap"]=self["webpackChunktodo_buudienxatulap"]||[]).push([[123],{4026:(t,e,a)=>{a.d(e,{Z:()=>u});var n=a(9835),o=a(6970);const h={class:"text-bold text-subtitle1"};function i(t,e,a,i,s,l){const r=(0,n.up)("q-banner");return(0,n.wg)(),(0,n.j4)(r,{dense:"","inline-actions":"",class:(0,o.C_)([a.bgcolor,"list-header text-white text-center"])},{default:(0,n.w5)((()=>[(0,n._)("span",h,[(0,n.WI)(t.$slots,"default")])])),_:3},8,["class"])}const s={props:["bgcolor"]};var l=a(1639),r=a(7128),c=a(9984),m=a.n(c);const d=(0,l.Z)(s,[["render",i]]),u=d;m()(s,"components",{QBanner:r.Z})},9524:(t,e,a)=>{a.d(e,{Z:()=>H});var n=a(9835),o=a(6970);const h=(0,n.Uk)(" Mã hộ:"),i=["href"],s=["href"],l=["href"],r=(0,n.Uk)("đ "),c=(0,n._)("br",null,null,-1),m=(0,n._)("br",null,null,-1);function d(t,e,a,d,u,y){const b=(0,n.up)("q-icon"),p=(0,n.up)("q-item-label"),g=(0,n.up)("q-item-section"),w=(0,n.up)("q-item");return(0,n.wg)(),(0,n.j4)(w,{class:(0,o.C_)({"bg-warning":a.bhyt.coTheUuTienCaoHon,"bg-warning":1==a.bhyt.coTheUuTienCaoHon,"bg-positive":y.getDateDiff(a.bhyt.denNgayDt)>30,"bg-blue-grey-3":y.getDateDiff(a.bhyt.denNgayDt)<1})},{default:(0,n.w5)((()=>[(0,n.Wm)(g,null,{default:(0,n.w5)((()=>[(0,n.Wm)(p,null,{default:(0,n.w5)((()=>[(0,n.Wm)(b,{class:(0,o.C_)(1==a.bhyt.gioiTinh?"text-pink":"text-primary"),name:1==a.bhyt.gioiTinh?"female":"male"},null,8,["class","name"]),(0,n.Uk)((0,o.zw)(a.bhyt.hoTen||a.bhyt.hoVaTen)+" "+(0,o.zw)(a.bhyt.ngaySinhDt||a.bhyt.ngayThangNamSinh)+" ",1),(0,n.Wm)(b,{onClick:e[0]||(e[0]=t=>y.xacNhanLoaiBo(a.bhyt)),name:1==a.bhyt.disabled?"do_not_disturb_on":"delete_forever",color:1==a.bhyt.disabled?"red":"gray"},null,8,["name","color"]),(0,n.Wm)(b,{class:"q-ml-sm",onClick:e[1]||(e[1]=e=>t.dongBoDuLieu(a.bhyt.soTheBhyt?a.bhyt.soTheBhyt:a.bhyt.maSoBhxh||a.bhyt.maSoBHXH)),name:"update",color:"blue"})])),_:1}),(0,n.Wm)(p,{caption:"",lines:"2"},{default:(0,n.w5)((()=>[h,(0,n._)("a",{target:"_blank",href:`/#/ho-gia-dinh/${a.bhyt.maHoGd}`},(0,o.zw)(a.bhyt.maHoGd),9,i),(0,n.Uk)(" "+(0,o.zw)(a.bhyt.mqhChuHo),1)])),_:1}),(0,n.Wm)(p,{caption:"",lines:"2"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Số CMND: "+(0,o.zw)(a.bhyt.soCmnd),1)])),_:1}),(0,n.Wm)(p,{caption:"",lines:"2"},{default:(0,n.w5)((()=>[(0,n._)("a",{target:"_blank",href:`https://thambuudien.ga/tra-thoi-han-bao-hiem-y-te?q=${a.bhyt.soTheBhyt?a.bhyt.soTheBhyt:a.bhyt.maSoBhxh||a.bhyt.maSoBHXH}`},(0,o.zw)(a.bhyt.soTheBhyt?a.bhyt.soTheBhyt:a.bhyt.maSoBhxh||a.bhyt.maSoBHXH),9,s),(0,n.Wm)(b,{class:"q-ml-md",onClick:e[2]||(e[2]=t=>y.copyTextToClipboard(a.bhyt.soTheBhyt?a.bhyt.soTheBhyt:a.bhyt.maSoBhxh||a.bhyt.maSoBHXH)),name:"content_copy"})])),_:1}),(0,n.Wm)(p,{caption:"",lines:"2"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,o.zw)(a.bhyt.maKCB),1)])),_:1}),(0,n.Wm)(p,{caption:"",lines:"2"},{default:(0,n.w5)((()=>[(0,n.Uk)("5 năm:"+(0,o.zw)(a.bhyt.ngay5Nam||a.bhyt.trangThaiHoSoName),1)])),_:1}),(0,n.Wm)(p,{caption:"",lines:"2"},{default:(0,n.w5)((()=>[(0,n._)("a",{href:`tel:${a.bhyt.soDienThoai}`},(0,o.zw)(a.bhyt.soDienThoai),9,l)])),_:1})])),_:1}),(0,n.Wm)(g,{side:"",top:""},{default:(0,n.w5)((()=>[(0,n.Wm)(p,{caption:""},{default:(0,n.w5)((()=>[(0,n.Uk)((0,o.zw)(y.getDateDiff(a.bhyt.denNgayDt)||a.bhyt.tongTien)+" ngày",1)])),_:1}),(0,n.Wm)(p,{caption:""},{default:(0,n.w5)((()=>[(0,n.Uk)("Đến:"+(0,o.zw)(a.bhyt.denNgayDt||a.bhyt.ngayDenHan),1)])),_:1}),(0,n.Wm)(p,{caption:""},{default:(0,n.w5)((()=>[r,(0,n._)("strong",null,(0,o.zw)(a.bhyt.tongTien?parseInt(a.bhyt.tongTien).toLocaleString():"0"),1)])),_:1}),(0,n.Wm)(b,{onClick:e[3]||(e[3]=t=>y.xacNhanTheoDoi(a.bhyt)),name:"star",color:1==a.bhyt.completed?"yellow":"gray"},null,8,["color"]),(0,n.Wm)(p,{caption:""},{default:(0,n.w5)((()=>[(0,n.Uk)((0,o.zw)(a.bhyt.ngayLap||new Date(a.bhyt.updated_at).toLocaleString()),1),c,(0,n.Uk)(" "+(0,o.zw)(a.bhyt.soBienLai?`Số: ${a.bhyt.soBienLai}`:a.bhyt.ghiChu),1),m,(0,n.Uk)(" "+(0,o.zw)(a.bhyt.userName),1)])),_:1})])),_:1})])),_:1},8,["class"])}var u=a(3100),y=a(4376),b=a(6827);const p={props:["bhyt"],methods:{...(0,u.nv)("bhyts",["loaiBo","theoDoi","dongBoDuLieu"]),xacNhanLoaiBo(t){t.maSoBhxh||(t.maSoBhxh=t.maSoBHXH),this.$q.dialog({title:"Confirm",message:"Bạn có muốn loại bỏ?",ok:{push:!0},cancel:{color:"negative"},persistent:!0}).onOk((()=>{this.loaiBo(t)}))},xacNhanTheoDoi(t){t.maSoBhxh||(t.maSoBhxh=t.maSoBHXH),this.$q.dialog({title:"Confirm",message:"Bạn có muốn theo dõi?",ok:{push:!0},cancel:{color:"negative"},persistent:!0}).onOk((()=>{this.theoDoi(t)}))},getDateDiff(t){return t?y.ZP.getDateDiff(new Date(t),new Date,"days"):""},copyUrlToClipboard(t){navigator.clipboard.writeText(`https://www.buudienxatulap.ga/tra-thoi-han-bao-hiem-y-te/?q=${t}`).then((function(){b.Z.create({type:"positive",message:"Bạn đã sao chép thành công!"})}),(function(t){b.Z.create({type:"negative",message:"Không thực hiện được!"+t})}))},copyTextToClipboard(t){navigator.clipboard.writeText(t.toString().slice(t.length-10)).then((function(){b.Z.create({type:"positive",message:"Bạn đã sao chép thành công!"})}),(function(t){b.Z.create({type:"negative",message:"Không thực hiện được!"+t})}))}},filters:{tien:function(t){return t?parseInt(t).toLocaleString():"0đ"}}};var g=a(1639),w=a(490),f=a(1233),T=a(3115),B=a(2857),_=a(9984),k=a.n(_);const x=(0,g.Z)(p,[["render",d]]),H=x;k()(p,"components",{QItem:w.Z,QItemSection:f.Z,QItemLabel:T.Z,QIcon:B.Z})},7123:(t,e,a)=>{a.r(e),a.d(e,{default:()=>H});var n=a(9835),o=a(6970),h=a(1957);const i={class:"q-pa-md"},s=["href"],l={class:"q-gutter-y-md column"};function r(t,e,a,r,c,m){const d=(0,n.up)("q-btn"),u=(0,n.up)("ListHeader"),y=(0,n.up)("q-icon"),b=(0,n.up)("q-input"),p=(0,n.up)("ThongTinTheBHYT"),g=(0,n.up)("q-separator"),w=(0,n.up)("q-list");return(0,n.wg)(),(0,n.iD)("div",i,[(0,n.Wm)(u,{bgcolor:"bg-orange-4"},{default:(0,n.w5)((()=>[(0,n.Uk)("Danh sách thẻ BHYT theo hộ gia đình - "+(0,o.zw)(t.bhyts.length)+" thẻ : ",1),(0,n._)("a",{href:`https://hgd.baohiemxahoi.gov.vn/doViewInfoHo.do?maHo=${t.maHoGd}`,target:"_blank"},(0,o.zw)(t.maHoGd),9,s),(0,n.Wm)(d,{rounded:"",color:"primary",label:"Tải",onClick:e[0]||(e[0]=e=>t.dongBo()),icon:"sync"}),(0,n.Wm)(d,{color:"deep-orange",rounded:"",label:"Xóa",onClick:e[1]||(e[1]=e=>t.xacNhanXoa(t.maHoGd)),icon:"delete_forever"}),(0,n.Wm)(d,{rounded:"",color:"primary",onClick:e[2]||(e[2]=e=>t.print()),icon:"print"})])),_:1}),(0,n._)("div",l,[(0,n.Wm)(b,{outlined:"",modelValue:t.searchText,"onUpdate:modelValue":e[4]||(e[4]=e=>t.searchText=e),onKeyup:e[5]||(e[5]=(0,h.D2)((e=>t.traCuuTheoTen(t.searchText)),["enter"])),placeholder:"Họ và tên",hint:"Nhập họ và tên rồi nhấn Enter để tìm kiếm",dense:""},{append:(0,n.w5)((()=>[""!==t.searchText?((0,n.wg)(),(0,n.j4)(y,{key:0,name:"close",onClick:e[3]||(e[3]=e=>t.searchText=""),class:"cursor-pointer"})):(0,n.kq)("",!0),(0,n.Wm)(y,{name:"search"})])),_:1},8,["modelValue"])]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.bhyts,(t=>((0,n.wg)(),(0,n.j4)(w,{key:t.id},{default:(0,n.w5)((()=>[(0,n.Wm)(p,{bhyt:t},null,8,["bhyt"]),(0,n.Wm)(g,{spaced:"",inset:""})])),_:2},1024)))),128))])}var c=a(3100),m=a(6950),d=a(8359),u=a(9524),y=a(4026);const b=(0,n.aZ)({components:{ThongTinTheBHYT:u.Z,ListHeader:y.Z},name:"IndexPage",data(){return{maHoGd:""}},methods:{...(0,c.nv)("bhyts",["getAllBhyts","xoaHoGd","dongBoDuLieu","traCuuTheoTen"]),async loadData(){await this.getAllBhyts({maHoGd:this.maHoGd})},async dongBo(){m.Z.show({spinner:d.Z,spinnerSize:"100px"}),await this.dongBoDuLieu(this.bhyts.map((t=>t.maSoBhxh)).join()),m.Z.hide()},async xacNhanXoa(t){this.$q.dialog({title:"Confirm",message:"Bạn có muốn xóa hộ gia đình?",ok:{push:!0},cancel:{color:"negative"},persistent:!0}).onOk((async()=>{await this.xoaHoGd(t),this.$router.go()}))},async print(){let t=document.createElement("a");t.target="_blank",t.href=`http://192.168.1.7:2023/thanh-vien-ho-gia-dinh/1/pdf?maSoBhxhs=${this.bhyts.filter((t=>t.completed)).map((t=>t.maSoBhxh)).join(",")}`,t.click()}},computed:{...(0,c.Se)("bhyts",["bhyts"])},mounted(){this.maHoGd=this.$route.params.id,this.loadData()}});var p=a(1639),g=a(4455),w=a(361),f=a(2857),T=a(3246),B=a(2218),_=a(9984),k=a.n(_);const x=(0,p.Z)(b,[["render",r]]),H=x;k()(b,"components",{QBtn:g.Z,QInput:w.Z,QIcon:f.Z,QList:T.Z,QSeparator:B.Z})}}]);