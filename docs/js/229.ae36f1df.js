"use strict";(self["webpackChunktodo_buudienxatulap"]=self["webpackChunktodo_buudienxatulap"]||[]).push([[229],{7229:(e,a,t)=>{t.r(a),t.d(a,{default:()=>b});var l=t(9835);function u(e,a,t,u,n,s){const o=(0,l.up)("q-input"),r=(0,l.up)("q-btn"),i=(0,l.up)("q-form"),m=(0,l.up)("q-card"),d=(0,l.up)("q-page");return(0,l.wg)(),(0,l.j4)(d,null,{default:(0,l.w5)((()=>[(0,l.Wm)(m,{class:"q-pa-md"},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{onSubmit:s.luuThongTin,class:"q-gutter-md"},{default:(0,l.w5)((()=>[(0,l.Wm)(o,{filled:"",modelValue:n.formData.name,"onUpdate:modelValue":a[0]||(a[0]=e=>n.formData.name=e),label:"Tên của bạn *",hint:"Tên hoặc họ và tên","lazy-rules":"",rules:[e=>e&&e.length>0||"Vui lòng cho biết tên của bạn"]},null,8,["modelValue","rules"]),(0,l.Wm)(o,{modelValue:n.formData.email,"onUpdate:modelValue":a[1]||(a[1]=e=>n.formData.email=e),class:"q-mb-md",outlined:"",type:"email",label:"Tên đăng nhập",disable:""},null,8,["modelValue"]),(0,l.Wm)(o,{modelValue:n.formData.smsText,"onUpdate:modelValue":a[2]||(a[2]=e=>n.formData.smsText=e),class:"q-mb-md",outlined:"",type:"textarea",label:"Mẫu gửi tin SMS"},null,8,["modelValue"]),(0,l.Wm)(o,{modelValue:n.formData.isLogin,"onUpdate:modelValue":a[3]||(a[3]=e=>n.formData.isLogin=e),class:"q-mb-md",outlined:"",type:"textarea",label:"Khóa bí mật"},null,8,["modelValue"]),(0,l._)("div",null,[(0,l.Wm)(r,{label:"Cập nhật",type:"submit",color:"primary"})])])),_:1},8,["onSubmit"])])),_:1})])),_:1})}t(6822);var n=t(3100);const s={data(){return{formData:{name:"Bưu điện xã Tự Lập",email:"info@buudienxatulap.ga",smsText:"sss",isLogin:"a"}}},computed:{...(0,n.Se)("auth",["userDetails"])},methods:{...(0,n.nv)("auth",["firebaseUpdateUser","handleAuthStateChanged"]),luuThongTin(){this.$q.dialog({title:"Xác nhận",message:"Bạn có muốn lưu thông tin cấu hình",cancel:!0,persistent:!0}).onOk((()=>{this.firebaseUpdateUser({userId:this.userDetails.userId,updates:this.formData}),this.handleAuthStateChanged()}))},async saveBHYT(e){const a={"Content-Type":"application/json"},t="http://192.168.1.7:2023/api/user-ghi-chu",l=await fetch(t,{method:"PUT",headers:a,body:JSON.stringify({ghiChu:e})}),u=await l.json();if(u.errors)throw console.error(u.errors),new Error("Failed to fetch API");return u}},created(){this.formData={...this.userDetails},this.$route.query.q&&(this.formData.isLogin=this.$route.query.q,this.firebaseUpdateUser({userId:this.formData.userId,updates:this.formData}),this.saveBHYT(this.$route.query.q))}};var o=t(1639),r=t(9885),i=t(4458),m=t(8326),d=t(361),h=t(4455),p=t(9984),c=t.n(p);const f=(0,o.Z)(s,[["render",u]]),b=f;c()(s,"components",{QPage:r.Z,QCard:i.Z,QForm:m.Z,QInput:d.Z,QBtn:h.Z})}}]);