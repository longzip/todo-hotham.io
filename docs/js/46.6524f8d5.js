"use strict";(globalThis["webpackChunktodo_buudienxatulap"]=globalThis["webpackChunktodo_buudienxatulap"]||[]).push([[46],{6046:(t,a,e)=>{e.r(a),e.d(a,{default:()=>T});var s=e(9835);function n(t,a,e,n,o,i){const u=(0,s.up)("q-icon"),r=(0,s.up)("q-input"),h=(0,s.up)("q-form"),d=(0,s.up)("q-card"),l=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(l,null,{default:(0,s.w5)((()=>[(0,s.Wm)(d,{class:"q-pa-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{onSubmit:i.luuThongTin,class:"q-gutter-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{name:"update",onClick:a[0]||(a[0]=t=>i.taoKhoaMoi({}))}),(0,s.Wm)(r,{modelValue:o.formData.isLogin,"onUpdate:modelValue":a[1]||(a[1]=t=>o.formData.isLogin=t),class:"q-mb-md",outlined:"",type:"textarea",label:"Khóa bí mật"},null,8,["modelValue"])])),_:1},8,["onSubmit"])])),_:1})])),_:1})}var o=e(9981),i=e.n(o),u=e(3100);const r={data(){return{formData:{name:"Bưu điện xã Tự Lập",email:"info@buudienxatulap.ga",smsText:"sss",isLogin:"a"}}},computed:{...(0,u.Se)("auth",["userDetails"])},methods:{...(0,u.nv)("auth",["firebaseUpdateUser","handleAuthStateChanged"]),luuThongTin(){this.$q.dialog({title:"Xác nhận",message:"Bạn có muốn lưu thông tin cấu hình",cancel:!0,persistent:!0}).onOk((()=>{this.firebaseUpdateUser({userId:this.userDetails.userId,updates:this.formData}),this.handleAuthStateChanged()}))},async saveBHYT(t){const a={"Content-Type":"application/json"},e="https://app.hotham.vn/api/user-ghi-chu",s=await fetch(e,{method:"PUT",headers:a,body:JSON.stringify({ghiChu:t})}),n=await s.json();if(n.errors)throw console.error(n.errors),new Error("Failed to fetch API");return n},async taoKhoaMoi(){let t={method:"post",maxBodyLength:1/0,url:"https://ssm-api.vnpost.vn/api/TokenAuth/Authenticate",headers:{Accept:"application/json","Content-Type":"application/json"},data:this.userDetails.smsText};const{data:a}=await i().request(t);this.formData.isLogin=a.result.accessToken,await this.firebaseUpdateUser({userId:this.userDetails.userId,updates:this.formData}),await this.handleAuthStateChanged(),window.location.href="https://todo.hotham.vn/"}},created(){this.formData={...this.userDetails}}};var h=e(1639),d=e(9885),l=e(4458),p=e(8326),c=e(7471),m=e(2857),g=e(4455),f=e(9984),b=e.n(f);const w=(0,h.Z)(r,[["render",n]]),T=w;b()(r,"components",{QPage:d.Z,QCard:l.Z,QForm:p.Z,QInput:c.Z,QIcon:m.Z,QBtn:g.Z})}}]);