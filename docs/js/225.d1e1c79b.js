"use strict";(globalThis["webpackChunktodo_buudienxatulap"]=globalThis["webpackChunktodo_buudienxatulap"]||[]).push([[225],{5225:(t,e,a)=>{a.r(e),a.d(e,{default:()=>g});var n=a(9835);function o(t,e,a,o,s,l){const u=(0,n.up)("q-icon"),i=(0,n.up)("q-input"),h=(0,n.up)("q-btn"),r=(0,n.up)("q-form"),d=(0,n.up)("q-card"),m=(0,n.up)("q-page");return(0,n.wg)(),(0,n.j4)(m,null,{default:(0,n.w5)((()=>[(0,n.Wm)(d,{class:"q-pa-md"},{default:(0,n.w5)((()=>[(0,n.Wm)(r,{onSubmit:l.luuThongTin,class:"q-gutter-md"},{default:(0,n.w5)((()=>[(0,n.Wm)(u,{name:"update",onClick:e[0]||(e[0]=t=>l.taoKhoaMoi({}))}),(0,n.Wm)(i,{modelValue:s.formData.isLogin,"onUpdate:modelValue":e[1]||(e[1]=t=>s.formData.isLogin=t),class:"q-mb-md",outlined:"",type:"textarea",label:"Khóa bí mật"},null,8,["modelValue"]),(0,n.Wm)(i,{modelValue:s.formData.bhytSMSText,"onUpdate:modelValue":e[2]||(e[2]=t=>s.formData.bhytSMSText=t),class:"q-mb-md",outlined:"",type:"textarea",label:"Mẫu tin nhắn BHYT"},null,8,["modelValue"]),(0,n.Wm)(i,{modelValue:s.formData.bhytHetHanSMSText,"onUpdate:modelValue":e[3]||(e[3]=t=>s.formData.bhytHetHanSMSText=t),class:"q-mb-md",outlined:"",type:"textarea",label:"Mẫu tin nhắn BHYT hết hạn"},null,8,["modelValue"]),(0,n.Wm)(i,{modelValue:s.formData.bhxhSMSText,"onUpdate:modelValue":e[4]||(e[4]=t=>s.formData.bhxhSMSText=t),class:"q-mb-md",outlined:"",type:"textarea",label:"Mẫu tin nhắn BHXH"},null,8,["modelValue"]),(0,n._)("div",null,[(0,n.Wm)(h,{label:"Cập nhật",type:"submit",color:"primary"})])])),_:1},8,["onSubmit"])])),_:1})])),_:1})}var s=a(9981),l=a.n(s),u=a(3100);const i={data(){return{formData:{name:"Bưu điện xã Tự Lập",email:"info@buudienxatulap.ga",smsText:"sss",isLogin:"",bhytSMSText:"",bhytHetHanSMSText:"",bhxhSMSText:""}}},computed:{...(0,u.Se)("auth",["userDetails"])},methods:{...(0,u.nv)("auth",["firebaseUpdateUser","firebaseUpdateUserAll","handleAuthStateChanged"]),luuThongTin(){this.formData.isLogin&&this.$q.dialog({title:"Xác nhận",message:"Bạn có muốn lưu thông tin cấu hình",cancel:!0,persistent:!0}).onOk((()=>{this.firebaseUpdateUserAll({userId:this.userDetails.userId,updates:this.formData}),this.handleAuthStateChanged()}))},async saveBHYT(t){const e={"Content-Type":"application/json"},a="https://app.hotham.vn/api/user-ghi-chu",n=await fetch(a,{method:"PUT",headers:e,body:JSON.stringify({ghiChu:t})}),o=await n.json();if(o.errors)throw console.error(o.errors),new Error("Failed to fetch API");return o},async taoKhoaMoi(){let t={method:"post",maxBodyLength:1/0,url:"https://ssm-api.vnpost.vn/api/TokenAuth/Authenticate",headers:{Accept:"application/json","Content-Type":"application/json"},data:this.userDetails.smsText};const{data:e}=await l().request(t);this.formData.isLogin=e.result.accessToken,await this.firebaseUpdateUser({userId:this.userDetails.userId,updates:this.formData}),await this.handleAuthStateChanged(),window.location.href="https://todo.hotham.vn/"}},created(){this.formData={...this.userDetails}}};var h=a(1639),r=a(9885),d=a(4458),m=a(8326),p=a(7471),c=a(2857),b=a(4455),f=a(9984),T=a.n(f);const S=(0,h.Z)(i,[["render",o]]),g=S;T()(i,"components",{QPage:r.Z,QCard:d.Z,QForm:m.Z,QInput:p.Z,QIcon:c.Z,QBtn:b.Z})}}]);