"use strict";(globalThis["webpackChunktodolist"]=globalThis["webpackChunktodolist"]||[]).push([[945],{1945:(a,e,t)=>{t.r(e),t.d(e,{default:()=>T});var l=t(9835);function n(a,e,t,n,o,u){const s=(0,l.up)("q-input"),m=(0,l.up)("q-icon"),i=(0,l.up)("q-btn"),d=(0,l.up)("q-form"),h=(0,l.up)("q-card"),r=(0,l.up)("q-page");return(0,l.wg)(),(0,l.j4)(r,null,{default:(0,l.w5)((()=>[(0,l.Wm)(h,{class:"q-pa-md"},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{onSubmit:u.luuThongTin,class:"q-gutter-md"},{default:(0,l.w5)((()=>[(0,l.Wm)(s,{modelValue:o.formData.maTinh,"onUpdate:modelValue":e[0]||(e[0]=a=>o.formData.maTinh=a),class:"q-mb-md",outlined:"",type:"text",label:"Mã tỉnh",disable:""},null,8,["modelValue"]),(0,l.Wm)(s,{modelValue:o.formData.maHuyen,"onUpdate:modelValue":e[1]||(e[1]=a=>o.formData.maHuyen=a),class:"q-mb-md",outlined:"",type:"text",label:"Mã huyện",disable:""},null,8,["modelValue"]),(0,l.Wm)(s,{modelValue:o.formData.maXa,"onUpdate:modelValue":e[2]||(e[2]=a=>o.formData.maXa=a),class:"q-mb-md",outlined:"",type:"text",label:"Mã xã",disable:""},null,8,["modelValue"]),(0,l.Wm)(m,{name:"update",onClick:e[3]||(e[3]=a=>u.taoKhoaMoi({}))}),(0,l.Wm)(s,{modelValue:o.formData.isLogin,"onUpdate:modelValue":e[4]||(e[4]=a=>o.formData.isLogin=a),class:"q-mb-md",outlined:"",type:"textarea",label:"Khóa bí mật"},null,8,["modelValue"]),(0,l.Wm)(s,{modelValue:o.formData.bhytSMSText,"onUpdate:modelValue":e[5]||(e[5]=a=>o.formData.bhytSMSText=a),class:"q-mb-md",outlined:"",type:"textarea",label:"Mẫu tin nhắn BHYT"},null,8,["modelValue"]),(0,l.Wm)(s,{modelValue:o.formData.bhytHetHanSMSText,"onUpdate:modelValue":e[6]||(e[6]=a=>o.formData.bhytHetHanSMSText=a),class:"q-mb-md",outlined:"",type:"textarea",label:"Mẫu tin nhắn BHYT hết hạn"},null,8,["modelValue"]),(0,l.Wm)(s,{modelValue:o.formData.xacNhanSMSText,"onUpdate:modelValue":e[7]||(e[7]=a=>o.formData.xacNhanSMSText=a),class:"q-mb-md",outlined:"",type:"textarea",label:"Mẫu tin nhắn xác nhận đóng tiền"},null,8,["modelValue"]),(0,l.Wm)(s,{modelValue:o.formData.bhxhSMSText,"onUpdate:modelValue":e[8]||(e[8]=a=>o.formData.bhxhSMSText=a),class:"q-mb-md",outlined:"",type:"textarea",label:"Mẫu tin nhắn BHXH"},null,8,["modelValue"]),(0,l.Wm)(s,{modelValue:o.formData.guiHangSMSText,"onUpdate:modelValue":e[9]||(e[9]=a=>o.formData.guiHangSMSText=a),class:"q-mb-md",outlined:"",type:"textarea",label:"Mẫu tin nhắn gửi hàng bưu điện."},null,8,["modelValue"]),(0,l._)("div",null,[(0,l.Wm)(i,{label:"Cập nhật",type:"submit",color:"primary"})])])),_:1},8,["onSubmit"])])),_:1})])),_:1})}var o=t(9981),u=t.n(o),s=t(3100);const m={data(){return{formData:{name:"Bưu điện xã Tự Lập",email:"info@buudienxatulap.ga",smsText:"sss",isLogin:"",bhytSMSText:"",bhytHetHanSMSText:"",bhxhSMSText:"",xacNhanSMSText:"",guiHangSMSText:"",maXa:"",maTinh:"",maHuyen:""}}},computed:{...(0,s.Se)("auth",["userDetails"])},methods:{...(0,s.nv)("auth",["firebaseUpdateUser","firebaseUpdateUserAll","handleAuthStateChanged"]),luuThongTin(){this.formData.isLogin&&this.$q.dialog({title:"Xác nhận",message:"Bạn có muốn lưu thông tin cấu hình",cancel:!0,persistent:!0}).onOk((()=>{this.firebaseUpdateUserAll({userId:this.userDetails.userId,updates:this.formData}),this.handleAuthStateChanged()}))},async saveBHYT(a){const e={"Content-Type":"application/json"},t="https://app.hotham.vn/api/user-ghi-chu",l=await fetch(t,{method:"PUT",headers:e,body:JSON.stringify({ghiChu:a})}),n=await l.json();if(n.errors)throw console.error(n.errors),new Error("Failed to fetch API");return n},async taoKhoaMoi(){let a={method:"post",maxBodyLength:1/0,url:"https://ssm-api.vnpost.vn/api/TokenAuth/Authenticate",headers:{Accept:"application/json","Content-Type":"application/json"},data:this.userDetails.smsText};const{data:e}=await u().request(a);this.formData.isLogin=e.result.accessToken,await this.firebaseUpdateUser({userId:this.userDetails.userId,updates:this.formData}),await this.handleAuthStateChanged(),window.location.href="https://todo.hotham.vn/"}},created(){this.formData={...this.userDetails}}};var i=t(1639),d=t(9885),h=t(4458),r=t(8326),p=t(7471),c=t(2857),b=t(4455),f=t(9984),x=t.n(f);const S=(0,i.Z)(m,[["render",n]]),T=S;x()(m,"components",{QPage:d.Z,QCard:h.Z,QForm:r.Z,QInput:p.Z,QIcon:c.Z,QBtn:b.Z})}}]);