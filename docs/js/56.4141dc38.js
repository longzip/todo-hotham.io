"use strict";(globalThis["webpackChunktodolist"]=globalThis["webpackChunktodolist"]||[]).push([[56],{2056:(e,t,l)=>{l.r(t),l.d(t,{default:()=>De});var a=l(1758),o=l(8790),s=l(9104);const i={class:"inline bg-orange-4 rounded-borders cursor-pointer"},n={class:"fit flex flex-center text-center non-selectable q-pa-md"},d={class:"q-gutter-y-md column"},u=(0,a.Lk)("div",{class:"text-subtitle1"},"Nộp BHYT & BHXH",-1),h={class:"text-caption text-grey"},c={class:"row"},r={class:"col"},m={class:"col"},g={class:"col"},b={class:"row"},T={class:"col"},p={class:"col"},k={class:"col"},y={class:"row"},H={class:"col"},v={class:"col"},V={class:"col"},f=(0,a.Lk)("br",null,null,-1),D=(0,a.Lk)("div",{class:"text-subtitle1"},"Nộp BHYT",-1),L={class:"text-caption text-grey"},F={class:"row"},B={class:"col"},w={class:"col"},_={class:"col"},X={class:"row"},S={class:"col"},x={class:"col"},C={class:"col"},N={class:"row"},I={class:"col"},W={class:"col"},U={class:"col"},A=(0,a.Lk)("br",null,null,-1),Y=(0,a.Lk)("div",{class:"text-subtitle1"},"Nộp BHXH",-1),$={class:"text-caption text-grey"},q={class:"row"},Q={class:"col"},E={class:"col"},K={class:"col"},O={class:"row"},j={class:"col"},G={class:"col"},M={class:"col"},P={class:"row"},R={class:"col"},z={class:"col"},J={class:"col"},Z=(0,a.Lk)("br",null,null,-1);function ee(e,t,l,ee,te,le){const ae=(0,a.g2)("q-item-section"),oe=(0,a.g2)("q-item"),se=(0,a.g2)("q-list"),ie=(0,a.g2)("q-menu"),ne=(0,a.g2)("q-banner"),de=(0,a.g2)("q-icon"),ue=(0,a.g2)("q-input"),he=(0,a.g2)("ThongTinTheBHYT"),ce=(0,a.g2)("q-separator"),re=(0,a.g2)("q-card-section"),me=(0,a.g2)("q-btn"),ge=(0,a.g2)("q-card-actions"),be=(0,a.g2)("q-card"),Te=(0,a.g2)("q-dialog"),pe=(0,a.g2)("q-page"),ke=(0,a.gN)("close-popup");return e.userDetails.isPro?((0,a.uX)(),(0,a.Wv)(pe,{key:0},{default:(0,a.k6)((()=>[(0,a.bF)(ne,{"inline-actions":"",class:(0,o.C4)(["bg-orange-4","list-header text-white text-center"])},{default:(0,a.k6)((()=>[(0,a.Lk)("div",i,[(0,a.Lk)("div",n," Kỳ: "+(0,o.v_)(te.ky)+" | BHYT-"+(0,o.v_)(e.bhyts.filter((e=>1===e.maThuTuc)).length)+" ("+(0,o.v_)(te.tham.toLocaleString())+"-"+(0,o.v_)(te.tongTien.toLocaleString())+"đ) + BHXHTN-"+(0,o.v_)(e.bhyts.filter((e=>0===e.maThuTuc)).length)+" ("+(0,o.v_)(te.thamTN.toLocaleString())+"-"+(0,o.v_)(te.tongTienTN.toLocaleString())+"đ) / Đã nộp BHYT: "+(0,o.v_)(te.daNopBHYT.toLocaleString())+" - Đã nộp BHXH: "+(0,o.v_)(te.daNopBHXH.toLocaleString()),1),(0,a.bF)(ie,{"touch-position":""},{default:(0,a.k6)((()=>[(0,a.bF)(se,{style:{"min-width":"100px"}},{default:(0,a.k6)((()=>[(0,a.bo)(((0,a.uX)(),(0,a.Wv)(oe,{clickable:"",onClick:t[0]||(t[0]=e=>le.loadData())},{default:(0,a.k6)((()=>[(0,a.bF)(ae,null,{default:(0,a.k6)((()=>[(0,a.eW)("Tải lại")])),_:1})])),_:1})),[[ke]]),(0,a.bo)(((0,a.uX)(),(0,a.Wv)(oe,{clickable:"",onClick:t[1]||(t[1]=t=>e.traCuuNoGroup({keyMenu:3}))},{default:(0,a.k6)((()=>[(0,a.bF)(ae,null,{default:(0,a.k6)((()=>[(0,a.eW)("Hồ sơ phát sinh lỗi")])),_:1})])),_:1})),[[ke]]),(0,a.bo)(((0,a.uX)(),(0,a.Wv)(oe,{clickable:"",onClick:t[2]||(t[2]=t=>e.traCuuNoGroup({}))},{default:(0,a.k6)((()=>[(0,a.bF)(ae,null,{default:(0,a.k6)((()=>[(0,a.eW)("Lịch sử kê khai")])),_:1})])),_:1})),[[ke]]),(0,a.bo)(((0,a.uX)(),(0,a.Wv)(oe,{clickable:"",onClick:t[3]||(t[3]=e=>le.xemThangTruoc())},{default:(0,a.k6)((()=>[(0,a.bF)(ae,null,{default:(0,a.k6)((()=>[(0,a.eW)("Xem tháng trước")])),_:1})])),_:1})),[[ke]]),(0,a.bo)(((0,a.uX)(),(0,a.Wv)(oe,{clickable:"",onClick:t[4]||(t[4]=e=>le.dongBo())},{default:(0,a.k6)((()=>[(0,a.bF)(ae,null,{default:(0,a.k6)((()=>[(0,a.eW)("Đồng bộ")])),_:1})])),_:1})),[[ke]]),(0,a.bo)(((0,a.uX)(),(0,a.Wv)(oe,{clickable:"",onClick:t[5]||(t[5]=e=>le.download())},{default:(0,a.k6)((()=>[(0,a.bF)(ae,null,{default:(0,a.k6)((()=>[(0,a.eW)("Tải D03 & D05")])),_:1})])),_:1})),[[ke]]),(0,a.bo)(((0,a.uX)(),(0,a.Wv)(oe,{clickable:"",onClick:t[6]||(t[6]=e=>le.truocKhiInBHYT())},{default:(0,a.k6)((()=>[(0,a.bF)(ae,null,{default:(0,a.k6)((()=>[(0,a.eW)("In nộp tiền BHYT")])),_:1})])),_:1})),[[ke]]),(0,a.bo)(((0,a.uX)(),(0,a.Wv)(oe,{clickable:"",onClick:t[7]||(t[7]=e=>le.truocKhiInBHXH())},{default:(0,a.k6)((()=>[(0,a.bF)(ae,null,{default:(0,a.k6)((()=>[(0,a.eW)("In nộp tiền BHXH TN")])),_:1})])),_:1})),[[ke]]),(0,a.bo)(((0,a.uX)(),(0,a.Wv)(oe,{clickable:"",onClick:t[8]||(t[8]=e=>le.xuatC17())},{default:(0,a.k6)((()=>[(0,a.bF)(ae,null,{default:(0,a.k6)((()=>[(0,a.eW)("Xuất C17 ngày")])),_:1})])),_:1})),[[ke]]),(0,a.bo)(((0,a.uX)(),(0,a.Wv)(oe,{clickable:"",onClick:t[9]||(t[9]=e=>le.xuatC17M())},{default:(0,a.k6)((()=>[(0,a.bF)(ae,null,{default:(0,a.k6)((()=>[(0,a.eW)("Xuất C17 tháng")])),_:1})])),_:1})),[[ke]]),(0,a.bo)(((0,a.uX)(),(0,a.Wv)(oe,{clickable:"",onClick:t[10]||(t[10]=t=>e.resetBhyt(te.searchText?e.bhyts.filter((e=>e.userName!==te.searchText)):[]))},{default:(0,a.k6)((()=>[(0,a.bF)(ae,null,{default:(0,a.k6)((()=>[(0,a.eW)("Xóa danh sách")])),_:1})])),_:1})),[[ke]]),(0,a.bo)(((0,a.uX)(),(0,a.Wv)(oe,{clickable:"",onClick:t[11]||(t[11]=t=>e.resetBhyt(te.searchText?e.bhyts.filter((e=>e.userName===te.searchText)):[]))},{default:(0,a.k6)((()=>[(0,a.bF)(ae,null,{default:(0,a.k6)((()=>[(0,a.eW)("Giữ lại danh sách")])),_:1})])),_:1})),[[ke]])])),_:1})])),_:1})])])),_:1}),(0,a.Lk)("div",d,[(0,a.bF)(ue,{outlined:"",modelValue:te.searchText,"onUpdate:modelValue":t[13]||(t[13]=e=>te.searchText=e),onKeyup:t[14]||(t[14]=(0,s.jR)((e=>le.traCuuTheoTen(te.searchText)),["enter"])),placeholder:"Họ và tên",hint:"Nhập họ và tên rồi nhấn Enter để tìm kiếm",dense:""},{append:(0,a.k6)((()=>[""!==te.searchText?((0,a.uX)(),(0,a.Wv)(de,{key:0,name:"close",onClick:t[12]||(t[12]=e=>te.searchText=""),class:"cursor-pointer"})):(0,a.Q3)("",!0),(0,a.bF)(de,{name:"search"})])),_:1},8,["modelValue"])]),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.bhyts,(e=>((0,a.uX)(),(0,a.Wv)(se,{key:e.id},{default:(0,a.k6)((()=>[(0,a.bF)(he,{bhyt:e},null,8,["bhyt"]),(0,a.bF)(ce,{spaced:"",inset:""})])),_:2},1024)))),128)),(0,a.bF)(Te,{modelValue:te.showDialogAll,"onUpdate:modelValue":t[25]||(t[25]=e=>te.showDialogAll=e)},{default:(0,a.k6)((()=>[(0,a.bF)(be,{class:"my-card"},{default:(0,a.k6)((()=>[(0,a.bF)(re,{class:"q-pt-none"},{default:(0,a.k6)((()=>[u,(0,a.Lk)("div",h,[(0,a.Lk)("div",c,[(0,a.Lk)("div",r,[(0,a.bF)(ue,{dense:"",modelValue:te.t500,"onUpdate:modelValue":t[15]||(t[15]=e=>te.t500=e),label:"T500"},null,8,["modelValue"])]),(0,a.Lk)("div",m,[(0,a.bF)(ue,{dense:"",modelValue:te.t200,"onUpdate:modelValue":t[16]||(t[16]=e=>te.t200=e),label:"T200"},null,8,["modelValue"])]),(0,a.Lk)("div",g,[(0,a.bF)(ue,{dense:"",modelValue:te.t100,"onUpdate:modelValue":t[17]||(t[17]=e=>te.t100=e),label:"T100"},null,8,["modelValue"])])]),(0,a.Lk)("div",b,[(0,a.Lk)("div",T,[(0,a.bF)(ue,{dense:"",modelValue:te.t50,"onUpdate:modelValue":t[18]||(t[18]=e=>te.t50=e),label:"T50"},null,8,["modelValue"])]),(0,a.Lk)("div",p,[(0,a.bF)(ue,{dense:"",modelValue:te.t20,"onUpdate:modelValue":t[19]||(t[19]=e=>te.t20=e),label:"T20"},null,8,["modelValue"])]),(0,a.Lk)("div",k,[(0,a.bF)(ue,{dense:"",modelValue:te.t10,"onUpdate:modelValue":t[20]||(t[20]=e=>te.t10=e),label:"T10"},null,8,["modelValue"])])]),(0,a.Lk)("div",y,[(0,a.Lk)("div",H,[(0,a.bF)(ue,{dense:"",modelValue:te.t5,"onUpdate:modelValue":t[21]||(t[21]=e=>te.t5=e),label:"T5"},null,8,["modelValue"])]),(0,a.Lk)("div",v,[(0,a.bF)(ue,{dense:"",modelValue:te.t2,"onUpdate:modelValue":t[22]||(t[22]=e=>te.t2=e),label:"T2"},null,8,["modelValue"])]),(0,a.Lk)("div",V,[(0,a.bF)(ue,{dense:"",modelValue:te.t1,"onUpdate:modelValue":t[23]||(t[23]=e=>te.t1=e),label:"T1"},null,8,["modelValue"])])])])])),_:1}),(0,a.bF)(re,null,{default:(0,a.k6)((()=>[(0,a.eW)(" Tổng: "+(0,o.v_)((5e5*te.t500+2e5*te.t200+1e5*te.t100+5e4*te.t50+2e4*te.t20+1e4*te.t10+5e3*te.t5+2e3*te.t2+1e3*te.t1).toLocaleString())+" ",1),f,(0,a.eW)(" Còn thiếu: "+(0,o.v_)((te.daNopBHYT+te.daNopBHXH-(5e5*te.t500+2e5*te.t200+1e5*te.t100+5e4*te.t50+2e4*te.t20+1e4*te.t10+5e3*te.t5+2e3*te.t2+1e3*te.t1)).toLocaleString()),1)])),_:1}),(0,a.bF)(ce),(0,a.bF)(ge,{align:"right"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(me,{flat:"",color:"primary",round:"",icon:"print",onClick:t[24]||(t[24]=e=>le.print(3))},null,512),[[ke]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.bF)(Te,{modelValue:te.showDialogBHYT,"onUpdate:modelValue":t[36]||(t[36]=e=>te.showDialogBHYT=e)},{default:(0,a.k6)((()=>[(0,a.bF)(be,{class:"my-card"},{default:(0,a.k6)((()=>[(0,a.bF)(re,{class:"q-pt-none"},{default:(0,a.k6)((()=>[D,(0,a.Lk)("div",L,[(0,a.Lk)("div",F,[(0,a.Lk)("div",B,[(0,a.bF)(ue,{dense:"",modelValue:te.t500,"onUpdate:modelValue":t[26]||(t[26]=e=>te.t500=e),label:"T500"},null,8,["modelValue"])]),(0,a.Lk)("div",w,[(0,a.bF)(ue,{dense:"",modelValue:te.t200,"onUpdate:modelValue":t[27]||(t[27]=e=>te.t200=e),label:"T200"},null,8,["modelValue"])]),(0,a.Lk)("div",_,[(0,a.bF)(ue,{dense:"",modelValue:te.t100,"onUpdate:modelValue":t[28]||(t[28]=e=>te.t100=e),label:"T100"},null,8,["modelValue"])])]),(0,a.Lk)("div",X,[(0,a.Lk)("div",S,[(0,a.bF)(ue,{dense:"",modelValue:te.t50,"onUpdate:modelValue":t[29]||(t[29]=e=>te.t50=e),label:"T50"},null,8,["modelValue"])]),(0,a.Lk)("div",x,[(0,a.bF)(ue,{dense:"",modelValue:te.t20,"onUpdate:modelValue":t[30]||(t[30]=e=>te.t20=e),label:"T20"},null,8,["modelValue"])]),(0,a.Lk)("div",C,[(0,a.bF)(ue,{dense:"",modelValue:te.t10,"onUpdate:modelValue":t[31]||(t[31]=e=>te.t10=e),label:"T10"},null,8,["modelValue"])])]),(0,a.Lk)("div",N,[(0,a.Lk)("div",I,[(0,a.bF)(ue,{dense:"",modelValue:te.t5,"onUpdate:modelValue":t[32]||(t[32]=e=>te.t5=e),label:"T5"},null,8,["modelValue"])]),(0,a.Lk)("div",W,[(0,a.bF)(ue,{dense:"",modelValue:te.t2,"onUpdate:modelValue":t[33]||(t[33]=e=>te.t2=e),label:"T2"},null,8,["modelValue"])]),(0,a.Lk)("div",U,[(0,a.bF)(ue,{dense:"",modelValue:te.t1,"onUpdate:modelValue":t[34]||(t[34]=e=>te.t1=e),label:"T1"},null,8,["modelValue"])])])])])),_:1}),(0,a.bF)(re,null,{default:(0,a.k6)((()=>[(0,a.eW)(" Tổng: "+(0,o.v_)((5e5*te.t500+2e5*te.t200+1e5*te.t100+5e4*te.t50+2e4*te.t20+1e4*te.t10+5e3*te.t5+2e3*te.t2+1e3*te.t1).toLocaleString())+" ",1),A,(0,a.eW)(" Còn thiếu: "+(0,o.v_)((te.daNopBHYT-(5e5*te.t500+2e5*te.t200+1e5*te.t100+5e4*te.t50+2e4*te.t20+1e4*te.t10+5e3*te.t5+2e3*te.t2+1e3*te.t1)).toLocaleString()),1)])),_:1}),(0,a.bF)(ce),(0,a.bF)(ge,{align:"right"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(me,{flat:"",color:"primary",round:"",icon:"print",onClick:t[35]||(t[35]=e=>le.print(1))},null,512),[[ke]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.bF)(Te,{modelValue:te.showDialogBHXH,"onUpdate:modelValue":t[47]||(t[47]=e=>te.showDialogBHXH=e)},{default:(0,a.k6)((()=>[(0,a.bF)(be,{class:"my-card"},{default:(0,a.k6)((()=>[(0,a.bF)(re,{class:"q-pt-none"},{default:(0,a.k6)((()=>[Y,(0,a.Lk)("div",$,[(0,a.Lk)("div",q,[(0,a.Lk)("div",Q,[(0,a.bF)(ue,{dense:"",modelValue:te.t500,"onUpdate:modelValue":t[37]||(t[37]=e=>te.t500=e),label:"T500"},null,8,["modelValue"])]),(0,a.Lk)("div",E,[(0,a.bF)(ue,{dense:"",modelValue:te.t200,"onUpdate:modelValue":t[38]||(t[38]=e=>te.t200=e),label:"T200"},null,8,["modelValue"])]),(0,a.Lk)("div",K,[(0,a.bF)(ue,{dense:"",modelValue:te.t100,"onUpdate:modelValue":t[39]||(t[39]=e=>te.t100=e),label:"T100"},null,8,["modelValue"])])]),(0,a.Lk)("div",O,[(0,a.Lk)("div",j,[(0,a.bF)(ue,{dense:"",modelValue:te.t50,"onUpdate:modelValue":t[40]||(t[40]=e=>te.t50=e),label:"T50"},null,8,["modelValue"])]),(0,a.Lk)("div",G,[(0,a.bF)(ue,{dense:"",modelValue:te.t20,"onUpdate:modelValue":t[41]||(t[41]=e=>te.t20=e),label:"T20"},null,8,["modelValue"])]),(0,a.Lk)("div",M,[(0,a.bF)(ue,{dense:"",modelValue:te.t10,"onUpdate:modelValue":t[42]||(t[42]=e=>te.t10=e),label:"T10"},null,8,["modelValue"])])]),(0,a.Lk)("div",P,[(0,a.Lk)("div",R,[(0,a.bF)(ue,{dense:"",modelValue:te.t5,"onUpdate:modelValue":t[43]||(t[43]=e=>te.t5=e),label:"T5"},null,8,["modelValue"])]),(0,a.Lk)("div",z,[(0,a.bF)(ue,{dense:"",modelValue:te.t2,"onUpdate:modelValue":t[44]||(t[44]=e=>te.t2=e),label:"T2"},null,8,["modelValue"])]),(0,a.Lk)("div",J,[(0,a.bF)(ue,{dense:"",modelValue:te.t1,"onUpdate:modelValue":t[45]||(t[45]=e=>te.t1=e),label:"T1"},null,8,["modelValue"])])])])])),_:1}),(0,a.bF)(re,null,{default:(0,a.k6)((()=>[(0,a.eW)(" Tổng: "+(0,o.v_)((5e5*te.t500+2e5*te.t200+1e5*te.t100+5e4*te.t50+2e4*te.t20+1e4*te.t10+5e3*te.t5+2e3*te.t2+1e3*te.t1).toLocaleString())+" ",1),Z,(0,a.eW)(" Còn thiếu: "+(0,o.v_)((te.daNopBHXH-(5e5*te.t500+2e5*te.t200+1e5*te.t100+5e4*te.t50+2e4*te.t20+1e4*te.t10+5e3*te.t5+2e3*te.t2+1e3*te.t1)).toLocaleString()),1)])),_:1}),(0,a.bF)(ce),(0,a.bF)(ge,{align:"right"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(me,{flat:"",color:"primary",round:"",icon:"print",onClick:t[46]||(t[46]=e=>le.print(0))},null,512),[[ke]])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})):(0,a.Q3)("",!0)}l(3009),l(3647),l(7458),l(1807),l(5512),l(5263),l(9875);var te=l(6980),le=l(9815),ae=l(1627);const oe={components:{ThongTinTheBHYT:le.A},data(){return{ky:"",searchText:"",coTheIn:1,tham:0,thamTN:0,dsTheBHYT:[],dsSoBHXH:[],tongTien:0,tongTienTN:0,thangTruoc:0,daNopBHYT:0,daNopBHXH:0,ngay:0,showDialogBHYT:!1,showDialogBHXH:!1,showDialogAll:!1,t500:"",t200:"",t100:"",t50:"",t20:"",t10:"",t5:"",t2:"",t1:""}},computed:{...(0,te.L8)("auth",["isLogin","userDetails"]),...(0,te.L8)("bhyts",["bhyts","soDienThoais"])},methods:{...(0,te.i0)("bhyts",["hoSoDaXuLy","daXyLy","XuatD03OrD05Excel","resetBhyt","traCuuNoGroup"]),async xuatC17(){if(this.dsSoBHXH||this.dsTheBHYT){ae.A.create({type:"positive",message:"Đang xuất C17 Excell, vui lòng đợi ...!"}),await this.loadData(),this.showDialogAll=!0,await this.daXyLy(this.bhyts.filter((e=>e.userId===this.userDetails.id&&4===e.trangThaiHoSo&&(new Date).getDate()-this.ngay===new Date(e.ngayNopHoSo).getDate())));let e=document.createElement("a");e.target="_blank";let t=`https://app.hotham.vn/c17-excell/${(new Date).toISOString().slice(0,10)}/pdf?excell=true`;this.dsTheBHYT&&(t+=`&bhyts=${this.dsTheBHYT}`),this.dsSoBHXH&&(t+=`&bhxhs=${this.dsSoBHXH}`),e.href=t,e.click()}else ae.A.create({type:"negative",message:"Không có dữ liệu!"})},async xuatC17M(){ae.A.create({type:"positive",message:"Đang xuất C17 Excell, vui lòng đợi ...!"}),await this.loadData(),await this.daXyLy(this.bhyts.filter((e=>e.userId===this.userDetails.id&&0===e.maThuTuc&&[4,8,9].includes(e.trangThaiHoSo))));let e=document.createElement("a");e.target="_blank",e.href=`https://app.hotham.vn/c17/${this.ky.slice(0,2)}`,e.click()},async truocKhiInBHYT(){ae.A.create({type:"positive",message:"Đang xuất C17 BHYT, vui lòng đợi ...!"}),await this.loadData(),this.coTheIn=0,this.showDialogBHYT=!0,await this.daXyLy(this.bhyts.filter((e=>e.userId===this.userDetails.id&&4===e.trangThaiHoSo&&1===e.maThuTuc&&(new Date).getDate()-this.ngay===new Date(e.ngayNopHoSo).getDate()))),this.coTheIn=1,this.printC17(1)},async truocKhiInBHXH(){ae.A.create({type:"positive",message:"Đang xuất C17 BHXH tự nguyện, vui lòng đợi ...!"}),await this.loadData(),this.coTheIn=0,this.showDialogBHXH=!0,await this.daXyLy(this.bhyts.filter((e=>e.userId===this.userDetails.id&&4===e.trangThaiHoSo&&0===e.maThuTuc&&(new Date).getDate()-this.ngay===new Date(e.ngayNopHoSo).getDate()))),this.coTheIn=1,this.printC17(0)},dongBo(){this.daXyLy(this.bhyts)},traCuuTheoTen(e){this.thangTruoc=parseInt(e),this.xemThangTruoc()},copyTextToClipboard(){navigator.clipboard.writeText([...new Set(this.soDienThoais)].join()).then((function(){ae.A.create({type:"positive",message:"Bạn đã sao chép thành công!"})}),(function(e){ae.A.create({type:"negative",message:"Không thực hiện được!"+e})}))},xemThangTruoc(){this.thangTruoc=this.thangTruoc+1,this.loadData()},sleep(e=3e3){return new Promise((t=>setTimeout(t,e)))},async loadData(){const e=(new Date).getDate();try{await this.hoSoDaXuLy({thangTruoc:this.thangTruoc,mangLuoiId:this.userDetails.quaTrinhCongTac.mangLuoiId}),this.bhyts.length&&(this.ky=this.bhyts[0].ky)}catch(t){ae.A.create({message:"Không thể kế nối đến máy chủ !",color:"red"})}this.tham=await this.bhyts.filter((e=>e.userId===this.userDetails.id&&[4,8,9].includes(e.trangThaiHoSo)&&1===e.maThuTuc)).map((e=>e.tongTien)).reduce(((e,t)=>e+t),0),this.thamTN=await this.bhyts.filter((e=>e.userId===this.userDetails.id&&[4,8,9].includes(e.trangThaiHoSo)&&0===e.maThuTuc)).map((e=>e.tongTien)).reduce(((e,t)=>e+t),0),this.daNopBHYT=await this.bhyts.filter((t=>t.userId===this.userDetails.id&&[4].includes(t.trangThaiHoSo)&&1===t.maThuTuc&&e-this.ngay===new Date(t.ngayNopHoSo).getDate())).map((e=>e.tongTien)).reduce(((e,t)=>e+t),0),this.daNopBHXH=await this.bhyts.filter((t=>t.userId===this.userDetails.id&&[4].includes(t.trangThaiHoSo)&&0===t.maThuTuc&&e-this.ngay===new Date(t.ngayNopHoSo).getDate())).map((e=>e.tongTien)).reduce(((e,t)=>e+t),0),this.tongTien=await this.bhyts.filter((e=>e.userId!==this.userDetails.id&&[4,8,9].includes(e.trangThaiHoSo)&&1===e.maThuTuc)).map((e=>e.tongTien)).reduce(((e,t)=>e+t),0),this.tongTienTN=await this.bhyts.filter((e=>e.userId!==this.userDetails.id&&[4,8,9].includes(e.trangThaiHoSo)&&0===e.maThuTuc)).map((e=>e.tongTien)).reduce(((e,t)=>e+t),0),this.dsTheBHYT=this.bhyts.filter((e=>e.userId===this.userDetails.id&&4===e.trangThaiHoSo&&1===e.maThuTuc&&(new Date).getDate()-this.ngay===new Date(e.ngayNopHoSo).getDate())).map((e=>e.maSoBhxh)).join(),this.dsSoBHXH=this.bhyts.filter((e=>e.userId===this.userDetails.id&&4===e.trangThaiHoSo&&0===e.maThuTuc&&(new Date).getDate()-this.ngay===new Date(e.ngayNopHoSo).getDate())).map((e=>e.maSoBhxh)).join()},async download(){const e=await this.XuatD03OrD05Excel(this.bhyts.filter((e=>e.userId===this.userDetails.id)).map((e=>e.transactionId)));e.forEach((e=>{let t=document.createElement("a");t.href=`data:${e.fileType};base64,${e.base64}`,t.download=e.fileName,t.click()}))},async print(e){let t=document.createElement("a");t.target="_blank";let l=`https://app.hotham.vn/nop-bhyt/${(new Date).toISOString().slice(0,10)}/pdf?`;!this.daNopBHYT||1!==e&&3!==e||(l+=`tienBHYT=${this.daNopBHYT}`),!this.daNopBHXH||0!==e&&3!==e||(l+=`&tienBHXH=${this.daNopBHXH}`),this.t500&&(l+=`&t500=${this.t500}`),this.t200&&(l+=`&t200=${this.t200}`),this.t100&&(l+=`&t100=${this.t100}`),this.t50&&(l+=`&t50=${this.t50}`),this.t20&&(l+=`&t20=${this.t20}`),this.t10&&(l+=`&t10=${this.t10}`),this.t5&&(l+=`&t5=${this.t5}`),this.t2&&(l+=`&t2=${this.t2}`),this.t1&&(l+=`&t1=${this.t1}`),t.href=l,t.click()},async printC17(e){let t=document.createElement("a");t.target="_blank";let l=`https://app.hotham.vn/mau-c17/${(new Date).toISOString().slice(0,10)}/pdf?tongTien=${1===e?this.daNopBHYT:this.daNopBHXH}&maSoBhxhs=${1===e?this.dsTheBHYT:this.dsSoBHXH}`;t.href=l,t.click()}},async mounted(){this.$route.query.ngay&&(this.ngay=parseInt(this.$route.query.ngay)),this.$route.query.thang&&(this.thangTruoc=parseInt(this.$route.query.thang)),await this.sleep(2e3),this.loadData()}};var se=l(2807),ie=l(7716),ne=l(6868),de=l(9519),ue=l(3999),he=l(7743),ce=l(5173),re=l(9270),me=l(492),ge=l(386),be=l(2156),Te=l(3316),pe=l(4189),ke=l(2669),ye=l(1693),He=l(8672),ve=l(8582),Ve=l.n(ve);const fe=(0,se.A)(oe,[["render",ee]]),De=fe;Ve()(oe,"components",{QPage:ie.A,QBanner:ne.A,QMenu:de.A,QList:ue.A,QItem:he.A,QItemSection:ce.A,QInput:re.A,QIcon:me.A,QSeparator:ge.A,QDialog:be.A,QCard:Te.A,QCardSection:pe.A,QCardActions:ke.A,QBtn:ye.A}),Ve()(oe,"directives",{ClosePopup:He.A})}}]);