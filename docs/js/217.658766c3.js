"use strict";(globalThis["webpackChunktodo_buudienxatulap"]=globalThis["webpackChunktodo_buudienxatulap"]||[]).push([[217],{5593:(e,t,a)=>{a.r(t),a.d(t,{default:()=>U});var o=a(9835),n=a(6970),l=a(1957);const i={class:"q-pa-md"},m=["src"],d={class:"q-gutter-y-md column"},u=["src"];function c(e,t,a,c,r,s){const p=(0,o.up)("q-icon"),h=(0,o.up)("ListHeader"),g=(0,o.up)("q-avatar"),k=(0,o.up)("q-item-section"),w=(0,o.up)("q-item-label"),_=(0,o.up)("q-item"),f=(0,o.up)("q-list"),W=(0,o.up)("q-checkbox"),C=(0,o.up)("q-btn"),T=(0,o.up)("q-input");return(0,o.wg)(),(0,o.iD)("div",i,[(0,o.Wm)(h,{bgcolor:"bg-orange-4"},{default:(0,o.w5)((()=>[(0,o.Uk)(" Giỏ hàng "+(0,n.zw)(e.cart?.total)+" ",1),(0,o.Wm)(p,{name:"remove_shopping_cart",onClick:t[0]||(t[0]=t=>e.emptyCart())}),(0,o.Uk)(" Mã giảm giá: "+(0,n.zw)(e.cart?.appliedCoupons?.map((e=>e.code)).join()),1)])),_:1}),e.cart?.contents?.nodes?((0,o.wg)(),(0,o.j4)(f,{key:0},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.cart.contents.nodes,(t=>((0,o.wg)(),(0,o.iD)("div",{key:t.key},[(0,o.Wm)(_,null,{default:(0,o.w5)((()=>[(0,o.Wm)(k,{avatar:""},{default:(0,o.w5)((()=>[(0,o.Wm)(g,{rounded:""},{default:(0,o.w5)((()=>[(0,o._)("img",{src:t.product.node.featuredImage.node.sourceUrl},null,8,m)])),_:2},1024)])),_:2},1024),(0,o.Wm)(k,null,{default:(0,o.w5)((()=>[(0,o.Wm)(w,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(t.product.node.name),1)])),_:2},1024),(0,o.Wm)(p,{name:"remove_shopping_cart",onClick:a=>e.removeItemsFromCart({keys:t.key})},null,8,["onClick"])])),_:2},1024),(0,o.Wm)(k,{side:"",top:""},{default:(0,o.w5)((()=>[(0,o.Wm)(w,{caption:""},{default:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(t.quantity),1)])),_:2},1024),(0,o.Wm)(w,{caption:""},{default:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(t.total),1)])),_:2},1024),(0,o.Wm)(p,{name:"add_shopping_cart",onClick:a=>e.addToCart({productId:t.product.node.databaseId})},null,8,["onClick"])])),_:2},1024)])),_:2},1024)])))),128))])),_:1})):(0,o.kq)("",!0),(0,o.Wm)(W,{onClick:s.updateMaGiamGia,"left-label":"",modelValue:r.maGiamGia,"onUpdate:modelValue":t[1]||(t[1]=e=>r.maGiamGia=e),label:"Giảm giá 5%"},null,8,["onClick","modelValue"]),(0,o.Wm)(T,{outlined:"","bottom-slots":"",modelValue:r.email,"onUpdate:modelValue":t[3]||(t[3]=e=>r.email=e),label:"Địa chỉ email",type:"email",suffix:"@gmail.com",dense:e.dense},{before:(0,o.w5)((()=>[(0,o.Wm)(p,{name:"contact_mail"})])),hint:(0,o.w5)((()=>[(0,o.Uk)(" Nhập địa chỉ email xác nhận đơn hàng. ")])),append:(0,o.w5)((()=>[(0,o.Wm)(C,{onClick:t[2]||(t[2]=e=>s.confirmThanhToan({email:`${r.email}@gmail.com`})),round:"",dense:"",flat:"",icon:"shopping_cart_checkout"})])),_:1},8,["modelValue","dense"]),(0,o.Wm)(h,{bgcolor:"bg-orange-4"},{default:(0,o.w5)((()=>[(0,o.Uk)(" Sản phẩm "+(0,n.zw)(parseInt(e.tongTien).toLocaleString())+"đ ",1)])),_:1}),(0,o._)("div",d,[(0,o.Wm)(T,{outlined:"",modelValue:r.searchText,"onUpdate:modelValue":t[5]||(t[5]=e=>r.searchText=e),onKeyup:t[6]||(t[6]=(0,l.D2)((t=>e.traCuuTheoTen(r.searchText)),["enter"])),placeholder:"Tìm sản phẩm",hint:"Nhập thông tin sản phẩm rồi nhấn Enter để tìm kiếm",dense:""},{append:(0,o.w5)((()=>[""!==r.searchText?((0,o.wg)(),(0,o.j4)(p,{key:0,name:"close",onClick:t[4]||(t[4]=e=>r.searchText=""),class:"cursor-pointer"})):(0,o.kq)("",!0),(0,o.Wm)(p,{name:"search"})])),_:1},8,["modelValue"])]),(0,o.Wm)(f,null,{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.productsByName(r.searchText),(e=>((0,o.wg)(),(0,o.iD)("div",{key:e.id},[(0,o.Wm)(_,null,{default:(0,o.w5)((()=>[(0,o.Wm)(k,{avatar:""},{default:(0,o.w5)((()=>[(0,o.Wm)(g,{rounded:""},{default:(0,o.w5)((()=>[(0,o._)("img",{src:e.featuredImage.node.sourceUrl},null,8,u)])),_:2},1024)])),_:2},1024),(0,o.Wm)(k,null,{default:(0,o.w5)((()=>[(0,o.Wm)(w,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(e.name),1)])),_:2},1024),(0,o.Wm)(w,{caption:""},{default:(0,o.w5)((()=>[(0,o.Uk)("Mã:"+(0,n.zw)(e.sku),1)])),_:2},1024),(0,o.Wm)(w,{caption:""},{default:(0,o.w5)((()=>[(0,o.Uk)("Kho còn:"+(0,n.zw)(e.stockQuantity),1)])),_:2},1024)])),_:2},1024),(0,o.Wm)(k,{side:"",top:""},{default:(0,o.w5)((()=>[(0,o.Wm)(w,{caption:""},{default:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(e.price),1)])),_:2},1024),(0,o.Wm)(w,{caption:""},{default:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(e.regularPrice),1)])),_:2},1024),(0,o.Wm)(p,{name:"add_shopping_cart",onClick:t=>s.confirmAddToCart(e.productId)},null,8,["onClick"])])),_:2},1024)])),_:2},1024)])))),128))])),_:1})])}var r=a(3100),s=a(4026);const p={components:{ListHeader:s.Z},data(){return{email:"lovanlong",searchText:"",maGiamGia:!1}},methods:{...(0,r.nv)("products",["getCart","addToCart","checkout","loginUser","getProducts","applyCoupon","removeItemsFromCart","emptyCart"]),updateMaGiamGia(){this.$q.dialog({title:"Mã Giảm Giá",message:"Nhập mã giảm giá",prompt:{model:"TODO5",type:"text"},cancel:!0,persistent:!0}).onOk((e=>{this.applyCoupon({code:e})}))},confirmAddToCart(e){this.$q.dialog({title:"Thêm vào giỏ hàng",message:"Số lượng",prompt:{model:1,type:"text"},cancel:!0,persistent:!0}).onOk((t=>{this.addToCart({productId:e,quantity:parseInt(t)})}))},confirmThanhToan(e){this.$q.dialog({title:"Confirm",message:"Thanh toán đơn hàng?",ok:{push:!0},cancel:{color:"negative"},persistent:!0}).onOk((()=>{this.checkout(e)}))}},computed:{...(0,r.Se)("products",["authToken","user","cart","products","productsByName","tongTien"])},mounted(){this.getCart(),this.getProducts()}};var h=a(1639),g=a(2857),k=a(3246),w=a(490),_=a(1233),f=a(1357),W=a(3115),C=a(4455),T=a(1221),b=a(7471),y=a(9984),v=a.n(y);const q=(0,h.Z)(p,[["render",c]]),U=q;v()(p,"components",{QIcon:g.Z,QList:k.Z,QItem:w.Z,QItemSection:_.Z,QAvatar:f.Z,QItemLabel:W.Z,QBtn:C.Z,QCheckbox:T.Z,QInput:b.Z})}}]);