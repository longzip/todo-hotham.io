"use strict";(globalThis["webpackChunktodolist"]=globalThis["webpackChunktodolist"]||[]).push([[996],{8018:(e,t,a)=>{a.d(t,{A:()=>y});var n=a(1758),i=a(8790);const o={class:"text-bold text-subtitle1"};function h(e,t,a,h,s,l){const c=(0,n.g2)("q-banner");return(0,n.uX)(),(0,n.Wv)(c,{dense:"","inline-actions":"",class:(0,i.C4)([a.bgcolor,"list-header text-white text-center"])},{default:(0,n.k6)((()=>[(0,n.Lk)("span",o,[(0,n.RG)(e.$slots,"default")])])),_:3},8,["class"])}const s={props:["bgcolor"]};var l=a(2807),c=a(6868),g=a(8582),r=a.n(g);const u=(0,l.A)(s,[["render",h]]),y=u;r()(s,"components",{QBanner:c.A})},7787:(e,t,a)=>{a.d(t,{A:()=>q});var n=a(1758),i=a(8790);const o={key:0},h=["href"],s=["href"],l=["href"],c=["href"],g=["href"],r={class:"q-gutter-xs"},u=(0,n.Lk)("br",null,null,-1),y=(0,n.Lk)("br",null,null,-1),m=(0,n.Lk)("br",null,null,-1);function b(e,t,a,b,T,p){const d=(0,n.g2)("q-icon"),B=(0,n.g2)("q-item-label"),D=(0,n.g2)("q-item-section"),H=(0,n.g2)("q-item"),S=(0,n.g2)("q-separator"),k=(0,n.g2)("q-list"),x=(0,n.g2)("q-menu"),N=(0,n.g2)("q-btn"),f=(0,n.g2)("q-badge"),v=(0,n.gN)("close-popup");return(0,n.uX)(),(0,n.Wv)(H,{class:(0,i.C4)({"bg-warning":a.bhyt.coTheUuTienCaoHon,"bg-warning":1==a.bhyt.coTheUuTienCaoHon,"bg-positive":p.getDateDiff(a.bhyt.denNgayDt)>30,"bg-blue-grey-3":p.getDateDiff(a.bhyt.denNgayDt)<1})},{default:(0,n.k6)((()=>[(0,n.bF)(D,null,{default:(0,n.k6)((()=>[(0,n.bF)(B,null,{default:(0,n.k6)((()=>[(0,n.bF)(d,{class:(0,i.C4)(1==a.bhyt.gioiTinh?"text-pink":"text-primary"),name:1==a.bhyt.gioiTinh?"female":"male"},null,8,["class","name"]),(0,n.eW)((0,i.v_)(a.bhyt.hoTen||a.bhyt.hoVaTen)+" "+(0,i.v_)(a.bhyt.ngaySinhDt||a.bhyt.ngayThangNamSinh)+" ",1),e.userDetails.isPro?((0,n.uX)(),(0,n.Wv)(d,{key:0,onClick:t[0]||(t[0]=e=>p.xacNhanLoaiBo(a.bhyt)),name:1==a.bhyt.disabled?"do_not_disturb_on":"delete_forever",color:1==a.bhyt.disabled?"red":"gray"},null,8,["name","color"])):(0,n.Q3)("",!0),(0,n.bF)(d,{class:"q-ml-sm",onClick:t[1]||(t[1]=t=>e.xem({...a.bhyt,gioiTinh:1==a.bhyt.gioiTinh||"Nam"===a.bhyt.gioiTinh?1:0})),name:"update",color:"blue"})])),_:1}),(0,n.bF)(B,{caption:"",lines:"2"},{default:(0,n.k6)((()=>[(0,n.eW)((0,i.v_)(a.bhyt.diaChiLh),1)])),_:1}),e.userDetails.isPro?((0,n.uX)(),(0,n.CE)("div",o,[(0,n.bF)(B,{caption:"",lines:"2"},{default:(0,n.k6)((()=>[(0,n.eW)(" Mã hộ:"),(0,n.Lk)("a",{target:"_blank",href:`/#/ho-gia-dinh/${a.bhyt.maHoGd}`},(0,i.v_)(a.bhyt.maHoGd),9,h),(0,n.eW)(" "+(0,i.v_)(a.bhyt.mqhChuHo),1)])),_:1}),(0,n.bF)(B,{caption:"",lines:"2"},{default:(0,n.k6)((()=>[(0,n.eW)(" Tờ khai:"),(0,n.Lk)("a",{target:"_blank",href:`/#/ho-gia-dinh/${a.bhyt.uniqid}`},(0,i.v_)(a.bhyt.uniqid),9,s),(0,n.Lk)("a",{target:"_blank",href:`https://app.hotham.vn/thanh-vien-ho-gia-dinh-by/${a.bhyt.uniqid}/pdf`},[(0,n.bF)(d,{class:"q-ml-sm",name:"print",color:"blue"})],8,l)])),_:1})])):(0,n.Q3)("",!0),(0,n.bF)(B,{caption:"",lines:"2"},{default:(0,n.k6)((()=>[(0,n.eW)(" Số CMND: "+(0,i.v_)(a.bhyt.soCmnd),1)])),_:1}),(0,n.bF)(B,{caption:"",lines:"2"},{default:(0,n.k6)((()=>[(0,n.eW)((0,i.v_)(a.bhyt.soTheBhyt?a.bhyt.soTheBhyt:a.bhyt.maSoBhxh||a.bhyt.maSoBHXH)+" ",1),(0,n.bF)(d,{class:"q-ml-md",onClick:t[2]||(t[2]=e=>p.copyTextToClipboard(a.bhyt.soTheBhyt?a.bhyt.soTheBhyt:a.bhyt.maSoBhxh||a.bhyt.maSoBHXH)),name:"content_copy"}),(0,n.bF)(d,{class:"q-ml-md",onClick:t[3]||(t[3]=e=>p.copyThoiHan(a.bhyt)),name:"text_format"})])),_:1}),(0,n.bF)(B,{caption:"",lines:"2"},{default:(0,n.k6)((()=>[(0,n.eW)((0,i.v_)(a.bhyt.maKCB),1)])),_:1}),(0,n.bF)(B,{caption:"",lines:"2"},{default:(0,n.k6)((()=>[(0,n.eW)("5 năm:"+(0,i.v_)(a.bhyt.ngay5Nam||a.bhyt.trangThaiHoSoName||a.bhyt.moTa),1)])),_:1}),e.userDetails.isPro&&a.bhyt.maPhuongThucDong?((0,n.uX)(),(0,n.Wv)(B,{key:1,caption:"",lines:"2"},{default:(0,n.k6)((()=>[(0,n.Lk)("span",{class:(0,i.C4)({"bg-red text-white text-bold q-pa-xs":p.getDateDiff(a.bhyt.denThangDt)<32})},[(0,n.Lk)("strong",null,"BHXH "+(0,i.v_)(a.bhyt.maPhuongThucDong)+":",1),(0,n.eW)(" "+(0,i.v_)(a.bhyt.mucDong)+" - "+(0,i.v_)(a.bhyt.denThangDt?.slice(0,7)),1)],2)])),_:1})):(0,n.Q3)("",!0),e.userDetails.isPro?((0,n.uX)(),(0,n.Wv)(B,{key:2,caption:"",lines:"2"},{default:(0,n.k6)((()=>[(0,n.eW)((0,i.v_)(a.bhyt.ghiChu||"Ghi chú:")+" ",1),(0,n.bF)(d,{onClick:t[4]||(t[4]=e=>p.xacNhanGhiChu(a.bhyt)),name:"edit"})])),_:1})):(0,n.Q3)("",!0),e.userDetails.isPro?((0,n.uX)(),(0,n.Wv)(B,{key:3,caption:"",lines:"2"},{default:(0,n.k6)((()=>[a.bhyt.ngaySinhDt?((0,n.uX)(),(0,n.CE)("a",{key:0,href:`tel:${a.bhyt.soDienThoai2}`},(0,i.v_)(a.bhyt.soDienThoai2||"Thêm sđt:"),9,c)):(0,n.Q3)("",!0),(0,n.bF)(d,{onClick:t[5]||(t[5]=e=>p.xacNhanSoDienThoai2(a.bhyt)),name:"edit"})])),_:1})):(0,n.Q3)("",!0),e.userDetails.isPro&&a.bhyt.soDienThoai?((0,n.uX)(),(0,n.Wv)(B,{key:4,caption:""},{default:(0,n.k6)((()=>[(0,n.Lk)("a",{href:`tel:${a.bhyt.soDienThoai}`},(0,i.v_)(a.bhyt.soDienThoai),9,g),(0,n.bF)(d,{class:"q-ml-md",onClick:t[6]||(t[6]=e=>p.copySDTToClipboard(a.bhyt.soDienThoai)),name:"content_copy"})])),_:1})):(0,n.Q3)("",!0)])),_:1}),e.userDetails.isPro?((0,n.uX)(),(0,n.Wv)(D,{key:0,side:"",top:""},{default:(0,n.k6)((()=>[(0,n.Lk)("div",r,[(0,n.bF)(N,{size:"12px",flat:"",dense:"",round:"",icon:"more_horiz"},{default:(0,n.k6)((()=>[(0,n.bF)(x,null,{default:(0,n.k6)((()=>[(0,n.bF)(k,{style:{"min-width":"300px"}},{default:(0,n.k6)((()=>[(0,n.bo)(((0,n.uX)(),(0,n.Wv)(H,{clickable:""},{default:(0,n.k6)((()=>[(0,n.bF)(D,{onClick:t[7]||(t[7]=t=>e.xem({...a.bhyt,gioiTinh:1==a.bhyt.gioiTinh||"Nam"===a.bhyt.gioiTinh?1:0}))},{default:(0,n.k6)((()=>[(0,n.eW)("Đồng bộ ngay")])),_:1})])),_:1})),[[v]]),(0,n.bF)(S),(0,n.bo)(((0,n.uX)(),(0,n.Wv)(H,{clickable:""},{default:(0,n.k6)((()=>[(0,n.bF)(D,{onClick:t[8]||(t[8]=e=>p.copyUrlToClipboard(a.bhyt))},{default:(0,n.k6)((()=>[(0,n.eW)("Thời hạn sử dụng thẻ")])),_:1})])),_:1})),[[v]]),(0,n.bo)(((0,n.uX)(),(0,n.Wv)(H,{clickable:""},{default:(0,n.k6)((()=>[(0,n.bF)(D,{onClick:t[9]||(t[9]=e=>p.copyMaTraCuuToClipboard(a.bhyt))},{default:(0,n.k6)((()=>[(0,n.eW)("Gửi mã tra cứu")])),_:1})])),_:1})),[[v]]),(0,n.bo)(((0,n.uX)(),(0,n.Wv)(H,{clickable:""},{default:(0,n.k6)((()=>[(0,n.bF)(D,{onClick:t[10]||(t[10]=e=>p.copyBHXHToClipboard(a.bhyt.maSoBhxh||a.bhyt.maSoBHXH))},{default:(0,n.k6)((()=>[(0,n.eW)("Tra cứu quá trình đóng BHXH")])),_:1})])),_:1})),[[v]])])),_:1})])),_:1})])),_:1}),(0,n.bF)(N,{onClick:t[11]||(t[11]=t=>e.xoaThanhVienHGD(a.bhyt.maSoBhxh)),size:"12px",flat:"",dense:"",round:"",icon:"close"})]),(0,n.bF)(B,{caption:""},{default:(0,n.k6)((()=>[(0,n.eW)("Thời hạn: "+(0,i.v_)(p.getDateDiff(a.bhyt.denNgayDt))+" ngày ",1),(0,n.bF)(d,{onClick:t[12]||(t[12]=t=>e.xoaThanhVienHGD(a.bhyt.maSoBhxh)),name:"person_remove_alt_1"})])),_:1}),(0,n.bF)(B,{caption:""},{default:(0,n.k6)((()=>[(0,n.eW)("Đến ngày:"+(0,i.v_)((a.bhyt.denNgayDt||a.bhyt.ngayDenHan||"").slice(0,10)),1)])),_:1}),(0,n.bF)(B,{caption:""},{default:(0,n.k6)((()=>[(0,n.eW)(" BHYT: "),1==a.bhyt.isBHYT?((0,n.uX)(),(0,n.Wv)(d,{key:0,class:"q-pr-sm",onClick:t[13]||(t[13]=e=>p.xacNhanHuyThu(a.bhyt,1)),name:"cancel"})):(0,n.Q3)("",!0),(0,n.Lk)("strong",{onClick:t[14]||(t[14]=e=>p.xacNhanGiaHan(a.bhyt)),class:"text-subtitle2 text-weight-bold"},(0,i.v_)(a.bhyt.tongTien||a.bhyt.soTienThu||a.bhyt.soPhaiDong?parseInt(a.bhyt.tongTien||a.bhyt.soTienThu||a.bhyt.soPhaiDong).toLocaleString():"0"),1),(0,n.eW)("đ")])),_:1}),(0,n.bF)(B,{caption:""},{default:(0,n.k6)((()=>[(0,n.eW)(" BHXH: "),1==a.bhyt.isBHXHTN?((0,n.uX)(),(0,n.Wv)(d,{key:0,class:"q-pr-sm",onClick:t[15]||(t[15]=e=>p.xacNhanHuyThu(a.bhyt,0)),name:"cancel"})):(0,n.Q3)("",!0),(0,n.Lk)("strong",{class:"text-subtitle2 text-weight-bold",onClick:t[16]||(t[16]=e=>p.confirmDongBHXH(a.bhyt))},(0,i.v_)(a.bhyt.tienNop?parseInt(a.bhyt.tienNop).toLocaleString():"0"),1),(0,n.eW)("đ")])),_:1}),(0,n.bF)(B,{caption:""},{default:(0,n.k6)((()=>[(0,n.eW)(" YTBT: "),(0,n.Lk)("strong",{class:"text-subtitle2 text-weight-bold",onClick:t[17]||(t[17]=e=>p.xacNhanMucDongBHYTBT(a.bhyt))},(0,i.v_)(a.bhyt.mucDongBHYTBT?parseInt(a.bhyt.mucDongBHYTBT).toLocaleString():"0")+"đ",1),u,a.bhyt.denNgayBHYTBT?((0,n.uX)(),(0,n.CE)("span",{key:0,class:(0,i.C4)({"bg-red text-white text-bold q-pa-xs":p.getDateDiff(a.bhyt.denNgayBHYTBT)<30}),onClick:t[18]||(t[18]=e=>p.xacNhanDenNgayBHYTBT(a.bhyt))},(0,i.v_)(new Date(a.bhyt.denNgayBHYTBT).toLocaleDateString()),3)):(0,n.Q3)("",!0)])),_:1}),(0,n.bF)(d,{onClick:t[19]||(t[19]=e=>p.xacNhanTheoDoi(a.bhyt)),name:"star",color:1==a.bhyt.completed?"yellow":"gray"},null,8,["color"]),a.bhyt.userName?((0,n.uX)(),(0,n.Wv)(f,{key:0,class:"q-mr-sm",color:"gray"},{default:(0,n.k6)((()=>[(0,n.eW)((0,i.v_)(a.bhyt.userName),1)])),_:1})):(0,n.Q3)("",!0),(0,n.bF)(B,{caption:""},{default:(0,n.k6)((()=>[(0,n.eW)(" Biên lai: "),a.bhyt.soBienLai?((0,n.uX)(),(0,n.CE)("a",{key:0,href:"javascript:void(0);",onClick:t[20]||(t[20]=e=>p.timTheoSoBienLai(a.bhyt.soBienLai))},(0,i.v_)(a.bhyt.soBienLai),1)):(0,n.Q3)("",!0),y,(0,n.eW)(" Ngày: "+(0,i.v_)(a.bhyt.ngayBienLai||a.bhyt.ngayLap),1)])),_:1}),a.bhyt.updated_at?((0,n.uX)(),(0,n.Wv)(B,{key:1,caption:""},{default:(0,n.k6)((()=>[m,(0,n.eW)(" Đồng bộ: "+(0,i.v_)(new Date(a.bhyt.updated_at).toLocaleString()),1)])),_:1})):(0,n.Q3)("",!0)])),_:1})):(0,n.Q3)("",!0)])),_:1},8,["class"])}var T=a(6980),p=a(6246),d=a(1627);const B={props:["bhyt"],computed:{...(0,T.aH)("auth",["userDetails"])},methods:{...(0,T.i0)("bhyts",["updateGhiChu","updateMaXacNhan","updateDenNgayBHYTBT","loaiBo","theoDoi","xem","getTraCuuThongTinBHXHTN","thuTien","xoaThanhVienHGD","getBhytsBySoBienLai","maTraCuu","huyThuTien","huyThuBHYT","huyThuBHXHTN","updateTongTien","copyBhyt"]),timTheoSoBienLai(e){this.getBhytsBySoBienLai(e)},xacNhanLoaiBo(e){e.maSoBhxh||(e.maSoBhxh=e.maSoBHXH),this.$q.dialog({title:"Confirm",message:"Bạn có muốn loại bỏ?",ok:{push:!0},cancel:{color:"negative"},persistent:!0}).onOk((()=>{this.loaiBo(e)}))},xacNhanGhiChu(e){this.$q.dialog({title:"Ghi chú",message:"Nội dung ghi chú?",prompt:{model:e.ghiChu,type:"text"},cancel:!0,persistent:!0}).onOk((t=>{this.updateGhiChu({ghiChu:t,maSoBhxh:e.maSoBhxh||e.maSoBHXH})}))},xacNhanSoDienThoai2(e){this.$q.dialog({title:"Ghi chú",message:"Số điện thoại 2?",prompt:{model:e.soDienThoai2,type:"text"},cancel:!0,persistent:!0}).onOk((t=>{this.updateTongTien({maSoBhxh:e.maSoBhxh||e.maSoBHXH,capNhatBHYT:{soDienThoai2:t}})}))},xacNhanGiaHan(e){this.$q.dialog({title:"Gia hạn thẻ BHYT",message:"Mức đóng bảo hiểm",options:{type:"radio",model:e.tongTien,items:[{label:"T1: 1.263.600đ",value:"1263600",color:"secondary"},{label:"T2: 884.520đ",value:"884520"},{label:"T3: 758.160đ",value:"758160"},{label:"T4: 631.800đ",value:"631800"},{label:"T5: 505.440đ",value:"505440"},{label:"Hủy thu",value:"0"}]},cancel:!0,persistent:!0}).onOk((t=>{"0"!==t?this.thuTien({tongTien:t,maSoBhxh:e.maSoBhxh||e.maSoBHXH,userName:this.userDetails.maNhanVienThu,maXa:this.userDetails.maXa}):this.huyThuTien({disabled:0,tongTien:0,bienLaiId:e.bienLaiId,maSoBhxh:e.maSoBhxh||e.maSoBHXH,userName:this.userDetails.id})}))},xacNhanMucDongBHYTBT(e){this.$q.dialog({title:"Thu bảo hiểm y tế bổ trợ",message:"Chọn gói BHYT bổ trợ:",options:{type:"radio",model:e.mucDongBHYTBT,items:[{label:"Gói mạnh khỏe: 106.000đ",value:"106000",color:"secondary"},{label:"Gói hạnh phúc: 169.000đ",value:"169000"},{label:"Hủy thu",value:"0"}]},cancel:!0,persistent:!0}).onOk((t=>{const{addToDate:a}=p.Ay;this.updateTongTien({maSoBhxh:e.maSoBhxh||e.maSoBHXH,capNhatBHYT:{mucDongBHYTBT:t,maXa:this.userDetails.maXa,denNgayBHYTBT:"0"!==t?a(new Date,{months:12}).toISOString().slice(0,10):null,userName:this.userDetails.id}})}))},xacNhanDenNgayBHYTBT(e){this.$q.dialog({title:"Cập nhật ngày biên lai",message:"Ngày biên lai?",prompt:{model:e.denNgayBHYTBT.slice(0,10),isValid:e=>10==e.length,type:"text"},cancel:!0,persistent:!0}).onOk((t=>{this.updateDenNgayBHYTBT({denNgayBHYTBT:t,maSoBhxh:e.maSoBhxh||e.maSoBHXH,maXa:this.userDetails.maXa})}))},xacNhanTheoDoi(e){e.maSoBhxh||(e.maSoBhxh=e.maSoBHXH),this.$q.dialog({title:"Confirm",message:"Bạn có muốn theo dõi?",ok:{push:!0},cancel:{color:"negative"},persistent:!0}).onOk((()=>{this.theoDoi(e)}))},xacNhanHuyThu(e,t){e.maSoBhxh||(e.maSoBhxh=e.maSoBHXH),this.$q.dialog({title:"Confirm",message:`Bạn có muốn hủy thu tiền ${t?"BHYT":"BHXH tự nguyện"}?`,ok:{push:!0},cancel:{color:"negative"},persistent:!0}).onOk((()=>{t?this.huyThuBHYT({maSoBhxh:e.maSoBhxh,userName:this.userDetails.id}):this.huyThuBHXHTN({maSoBhxh:e.maSoBhxh,userName:this.userDetails.id})}))},getDateDiff(e){return e?p.Ay.getDateDiff(new Date(e),new Date,"days"):""},async copyBHXHToClipboard(e){try{const t=await this.getTraCuuThongTinBHXHTN(e);if(0===Object.keys(t).length)return d.A.create({type:"negative",message:"Không tham gia BHXH Tự Nguyện"}),null;navigator.clipboard.writeText(`Xin chào! Mã sổ BHXH: ${this.baoMatSoBHXH(t.maSoBhxh)}, Họ tên: ${t.hoTen}, Ngày sinh: **/**/${new Date(t.ngaySinhDt).toLocaleDateString()}; Tên đơn vị đang tham gia: Đại lý ${t.tenDonVi}, ngày đăng ký ${t.ngayDk} mức đóng ${parseInt(t.mucDong).toLocaleString()}đ (tiền ngân sách hỗ trợ ${parseInt(t.tienNsnnHoTro).toLocaleString()}đ). Đóng tiếp ${t.phuongThucDong} BHXH TN, tháng bắt đầu ${t.thangBd.slice(4)}/${t.thangBd.slice(0,4)} số tiền phải đóng ${parseInt(t.tienNop).toLocaleString()}đ.\r\n`+this.userDetails?.bhxhSMSText).then((function(){d.A.create({type:"positive",message:"Bạn đã sao chép thành công!"})}),(function(e){d.A.create({type:"negative",message:"Không thực hiện được!"+e})})),this.confirmDongBHXH(t)}catch(t){d.A.create({type:"negative",message:"Không thực hiện được!"+t})}},confirmDongBHXH(e){this.$q.dialog({title:"Thu BHXH",message:e.thangBd?`Mã sổ BHXH: ${this.baoMatSoBHXH(e.maSoBhxh)}, Họ tên: ${e.hoTen}, Ngày sinh: ${new Date(e.ngaySinhDt).toLocaleDateString()}; Tên đơn vị đang tham gia: Đại lý ${e.tenDonVi}, mức đóng ${parseInt(e.mucDong).toLocaleString()}đ (tiền ngân sách hỗ trợ ${parseInt(e.tienNsnnHoTro).toLocaleString()}đ). Đóng tiếp ${e.phuongThucDong} BHXH TN, tháng bắt đầu ${e.thangBd?.slice(4)}/${e.thangBd?.slice(0,4)} số tiền phải đóng ${parseInt(e.tienNop).toLocaleString()}đ.`:`Mã sổ BHXH: ${e.maSoBhxh}, Họ tên: ${e.hoTen}, Ngày sinh: ${new Date(e.ngaySinhDt).toLocaleDateString()}; Mức đóng ${parseInt(e.mucDong).toLocaleString()}đ. Đóng tiếp ${e.maPhuongThucDong} tháng BHXH TN, số tiền phải đóng ${parseInt(e.tienNop).toLocaleString()}đ.`,prompt:{model:e.tienNop.toLocaleString(),type:"text"},cancel:!0,persistent:!0}).onOk((t=>{this.thuTien({tienNop:t,maSoBhxh:e.maSoBhxh||e.maSoBHXH,userName:this.userDetails.maNhanVienThu})}))},async copyMaTraCuuToClipboard({bienLaiId:e,hoTen:t,maSoBhxh:a,maThuTuc:n}){const{maXacNhan:i,ngayBienLai:o,soBienLai:h}=await this.maTraCuu(e);if(!i)return d.A.create({type:"negative",message:"Không có mã xác nhận"}),null;let s={maSoBhxh:a};s=0===n?{maSoBhxh:a,maXacNhanTN:i,ngayLapTN:o.split("/").reverse().join("-"),soBienLaiTN:h}:{maSoBhxh:a,maXacNhan:i,ngayLap:o.split("/").reverse().join("-"),soBienLai:h};const l=await this.updateMaXacNhan(s);navigator.clipboard.writeText(this.userDetails.xacNhanSMSText.replace("maXacNhan",i).replace("soBienLai",h).replace("ngayBienLai",o).replace("hoTen",t)).then((function(){d.A.create({type:"positive",message:"Bạn đã sao chép thành công!"})}),(function(e){d.A.create({type:"negative",message:"Không thực hiện được!"+e})})),this.quaySoDienThoai(l.soDienThoai2||l.soDienThoai)},quaySoDienThoai(e){if(e){let t=document.createElement("a");t.href=`tel:${e}`,t.click()}},async copyUrlToClipboard(e){const[t,a]=(new Date).toISOString().slice(0,7).split("-"),n=new Date(e.denNgayDt)<=new Date(t,parseInt(a)+1,0),i=`Xin chào!\r\nMã thẻ: ${this.baoMatSoBHXH(e.soTheBhyt?e.soTheBhyt:e.maSoBhxh||e.maSoBHXH)}, Họ tên: ${e.hoTen||e.hoVaTen}, Ngày sinh: **/**/${new Date(e.ngaySinhDt).getFullYear()}; Hạn thẻ: ${new Date(e.tuNgayDt).toLocaleDateString()} - ${new Date(e.denNgayDt).toLocaleDateString()} (${this.getDateDiff(e.denNgayDt)} ngày); Thời điểm đủ 5 năm liên tục: ${e.ngay5Nam?.slice(6,8)}/${e.ngay5Nam?.slice(4,6)}/${e.ngay5Nam?.slice(0,4)}.\n          `;navigator.clipboard.writeText(`${i}\r\n${n?this.userDetails.bhytHetHanSMSText.replace("_soTheBhyt",e.uniqid):this.userDetails.bhytSMSText.replace("_soTheBhyt",e.uniqid)}`).then((function(){d.A.create({type:"positive",message:"Bạn đã sao chép thành công!"})}),(function(e){d.A.create({type:"negative",message:"Không thực hiện được!"+e})})),this.quaySoDienThoai(e.soDienThoai2||e.soDienThoai),this.theoDoi(e)},copyTextToClipboard(e){navigator.clipboard.writeText(e.toString().slice(e.length-10)).then((function(){d.A.create({type:"positive",message:"Bạn đã sao chép thành công!"})}),(function(e){d.A.create({type:"negative",message:"Không thực hiện được!"+e})}))},copySDTToClipboard(e){navigator.clipboard.writeText(e.toString().slice(e.length-10)).then((function(){d.A.create({type:"positive",message:"Bạn đã sao chép thành công!"})}),(function(e){d.A.create({type:"negative",message:"Không thực hiện được!"+e})}))},async copyThoiHan(e){this.$q.notify({message:`<p id="bhyt-text" style="font-size: 18px;">Mã thẻ: ${this.baoMatSoBHXH(e.soTheBhyt?e.soTheBhyt:e.maSoBhxh||e.maSoBHXH)}, Họ tên: <strong>${e.hoTen||e.hoVaTen}</strong>, Ngày sinh: **/**/${new Date(e.ngaySinhDt).getFullYear()}; Hạn thẻ: <strong style="color: rgb(219, 52, 46);">${new Date(e.tuNgayDt).toLocaleDateString()} - ${new Date(e.denNgayDt).toLocaleDateString()} (${this.getDateDiff(e.denNgayDt)} ngày);</strong> Thời điểm đủ 5 năm liên tục: ${e.ngay5Nam?.slice(6,8)}/${e.ngay5Nam?.slice(4,6)}/${e.ngay5Nam?.slice(0,4)}.\n          </p>`,html:!0}),await this.sleep();const t=document.getElementById("bhyt-text"),a=window.getSelection();a.removeAllRanges();const n=document.createRange();n.selectNodeContents(t),a.addRange(n),document.execCommand("copy"),a.removeAllRanges()},sleep(e=500){return new Promise((t=>setTimeout(t,e)))},baoMatSoBHXH(e){if(!e.length)return"";const t=e.split("");return t.splice(-7,3,"***"),t.join("")}},filters:{tien:function(e){return e?parseInt(e).toLocaleString():"0đ"}}};var D=a(2807),H=a(7743),S=a(5173),k=a(3796),x=a(492),N=a(1693),f=a(9519),v=a(3999),_=a(386),X=a(3954),C=a(8672),$=a(8582),L=a.n($);const W=(0,D.A)(B,[["render",b]]),q=W;L()(B,"components",{QItem:H.A,QItemSection:S.A,QItemLabel:k.A,QIcon:x.A,QBtn:N.A,QMenu:f.A,QList:v.A,QSeparator:_.A,QBadge:X.A}),L()(B,"directives",{ClosePopup:C.A})}}]);