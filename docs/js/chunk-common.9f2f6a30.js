"use strict";(globalThis["webpackChunktodo_buudienxatulap"]=globalThis["webpackChunktodo_buudienxatulap"]||[]).push([[64],{4026:(t,e,n)=>{n.d(e,{Z:()=>m});var a=n(9835),h=n(6970);const i={class:"text-bold text-subtitle1"};function o(t,e,n,o,s,l){const c=(0,a.up)("q-banner");return(0,a.wg)(),(0,a.j4)(c,{dense:"","inline-actions":"",class:(0,h.C_)([n.bgcolor,"list-header text-white text-center"])},{default:(0,a.w5)((()=>[(0,a._)("span",i,[(0,a.WI)(t.$slots,"default")])])),_:3},8,["class"])}const s={props:["bgcolor"]};var l=n(1639),c=n(7128),g=n(9984),r=n.n(g);const y=(0,l.Z)(s,[["render",o]]),m=y;r()(s,"components",{QBanner:c.Z})},1822:(t,e,n)=>{n.d(e,{Z:()=>k});var a=n(9835),h=n(6970);const i=["href"],o=["href"],s=["href"],l=(0,a._)("strong",null,"BHXH TN:",-1),c=["href"],g={class:"text-subtitle2 text-weight-bold"},r=(0,a._)("br",null,null,-1),y=(0,a._)("br",null,null,-1);function m(t,e,n,m,u,p){const b=(0,a.up)("q-icon"),d=(0,a.up)("q-item-label"),T=(0,a.up)("q-item-section"),B=(0,a.up)("q-badge"),D=(0,a.up)("q-item");return(0,a.wg)(),(0,a.j4)(D,{class:(0,h.C_)({"bg-warning":n.bhyt.coTheUuTienCaoHon,"bg-warning":1==n.bhyt.coTheUuTienCaoHon,"bg-positive":p.getDateDiff(n.bhyt.denNgayDt)>30,"bg-blue-grey-3":p.getDateDiff(n.bhyt.denNgayDt)<1})},{default:(0,a.w5)((()=>[(0,a.Wm)(T,null,{default:(0,a.w5)((()=>[(0,a.Wm)(d,null,{default:(0,a.w5)((()=>[(0,a.Wm)(b,{class:(0,h.C_)(1==n.bhyt.gioiTinh?"text-pink":"text-primary"),name:1==n.bhyt.gioiTinh?"female":"male"},null,8,["class","name"]),(0,a.Uk)((0,h.zw)(n.bhyt.hoTen||n.bhyt.hoVaTen)+" "+(0,h.zw)(n.bhyt.ngaySinhDt||n.bhyt.ngayThangNamSinh)+" ",1),(0,a.Wm)(b,{onClick:e[0]||(e[0]=t=>p.xacNhanLoaiBo(n.bhyt)),name:1==n.bhyt.disabled?"do_not_disturb_on":"delete_forever",color:1==n.bhyt.disabled?"red":"gray"},null,8,["name","color"]),(0,a.Wm)(b,{class:"q-ml-sm",onClick:e[1]||(e[1]=e=>t.dongBoDuLieu(n.bhyt.soTheBhyt?n.bhyt.soTheBhyt:n.bhyt.maSoBhxh||n.bhyt.maSoBHXH)),name:"update",color:"blue"})])),_:1}),(0,a.Wm)(d,{caption:"",lines:"2"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,h.zw)(n.bhyt.diaChiLh),1)])),_:1}),(0,a.Wm)(d,{caption:"",lines:"2"},{default:(0,a.w5)((()=>[(0,a.Uk)(" Mã hộ:"),(0,a._)("a",{target:"_blank",href:`/#/ho-gia-dinh/${n.bhyt.maHoGd}`},(0,h.zw)(n.bhyt.maHoGd),9,i),(0,a.Uk)(" "+(0,h.zw)(n.bhyt.mqhChuHo),1)])),_:1}),(0,a.Wm)(d,{caption:"",lines:"2"},{default:(0,a.w5)((()=>[(0,a.Uk)(" Tờ khai:"),(0,a._)("a",{target:"_blank",href:`https://app.hotham.vn/thanh-vien-ho-gia-dinh-by/${n.bhyt.uniqid}/pdf`},(0,h.zw)(n.bhyt.uniqid),9,o)])),_:1}),(0,a.Wm)(d,{caption:"",lines:"2"},{default:(0,a.w5)((()=>[(0,a.Uk)(" Số CMND: "+(0,h.zw)(n.bhyt.soCmnd),1)])),_:1}),(0,a.Wm)(d,{caption:"",lines:"2"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,h.zw)(n.bhyt.soTheBhyt?n.bhyt.soTheBhyt:n.bhyt.maSoBhxh||n.bhyt.maSoBHXH)+" ",1),(0,a.Wm)(b,{class:"q-ml-md",onClick:e[2]||(e[2]=t=>p.copyTextToClipboard(n.bhyt.soTheBhyt?n.bhyt.soTheBhyt:n.bhyt.maSoBhxh||n.bhyt.maSoBHXH)),name:"content_copy"}),(0,a._)("a",{href:`tel:${n.bhyt.soDienThoai}`},[(0,a.Wm)(b,{class:"q-ml-md",onClick:e[3]||(e[3]=t=>p.copyUrlToClipboard(n.bhyt)),name:"share"})],8,s),(0,a.Wm)(b,{class:"q-ml-md",onClick:e[4]||(e[4]=t=>p.copyMaTraCuuToClipboard(n.bhyt)),name:"history"}),(0,a.Wm)(b,{class:"q-ml-md",onClick:e[5]||(e[5]=t=>p.copyBHXHToClipboard(n.bhyt.maSoBhxh||n.bhyt.maSoBHXH)),name:"paid"})])),_:1}),(0,a.Wm)(d,{caption:"",lines:"2"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,h.zw)(n.bhyt.maKCB),1)])),_:1}),(0,a.Wm)(d,{caption:"",lines:"2"},{default:(0,a.w5)((()=>[(0,a.Uk)("5 năm:"+(0,h.zw)(n.bhyt.ngay5Nam||n.bhyt.trangThaiHoSoName||n.bhyt.moTa),1)])),_:1}),(0,a.Wm)(d,{caption:"",lines:"2"},{default:(0,a.w5)((()=>[(0,a.Uk)("Mã xác nhận:"+(0,h.zw)(n.bhyt.maXacNhan),1)])),_:1}),"1"==n.bhyt.isBHXHTN?((0,a.wg)(),(0,a.j4)(d,{key:0,caption:"",lines:"2"},{default:(0,a.w5)((()=>[l,(0,a.Uk)(" "+(0,h.zw)(n.bhyt.mucDong)+" - "+(0,h.zw)(n.bhyt.denThangDt.slice(0,7)),1)])),_:1})):(0,a.kq)("",!0),(0,a.Wm)(d,{caption:"",lines:"2"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,h.zw)(n.bhyt.ghiChu||"Ghi chú:")+" ",1),(0,a.Wm)(b,{onClick:e[6]||(e[6]=t=>p.xacNhanGhiChu(n.bhyt)),name:"edit"})])),_:1}),n.bhyt.soDienThoai?((0,a.wg)(),(0,a.j4)(d,{key:1,caption:""},{default:(0,a.w5)((()=>[(0,a._)("a",{href:`tel:${n.bhyt.soDienThoai}`},(0,h.zw)(n.bhyt.soDienThoai),9,c),(0,a.Wm)(b,{class:"q-ml-md",onClick:e[7]||(e[7]=t=>p.copySDTToClipboard(n.bhyt.soDienThoai)),name:"content_copy"})])),_:1})):(0,a.kq)("",!0)])),_:1}),(0,a.Wm)(T,{side:"",top:""},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{caption:""},{default:(0,a.w5)((()=>[(0,a.Uk)((0,h.zw)(p.getDateDiff(n.bhyt.denNgayDt))+" ngày ",1),(0,a.Wm)(b,{onClick:e[8]||(e[8]=e=>t.xoaThanhVienHGD(n.bhyt.maSoBhxh)),name:"person_remove_alt_1"})])),_:1}),(0,a.Wm)(d,{caption:""},{default:(0,a.w5)((()=>[(0,a.Uk)("Đến:"+(0,h.zw)(n.bhyt.denNgayDt||n.bhyt.ngayDenHan),1)])),_:1}),(0,a.Wm)(d,{onClick:e[9]||(e[9]=t=>p.xacNhanGiaHan(n.bhyt)),caption:""},{default:(0,a.w5)((()=>[(0,a._)("strong",g,(0,h.zw)(n.bhyt.tongTien||n.bhyt.soTienThu||n.bhyt.soPhaiDong?parseInt(n.bhyt.tongTien||n.bhyt.soTienThu||n.bhyt.soPhaiDong).toLocaleString():"0"),1),(0,a.Uk)("đ")])),_:1}),(0,a.Wm)(b,{onClick:e[10]||(e[10]=t=>p.xacNhanTheoDoi(n.bhyt)),name:"star",color:1==n.bhyt.completed?"yellow":"gray"},null,8,["color"]),(0,a.Wm)(d,{caption:""},{default:(0,a.w5)((()=>[(0,a.Uk)((0,h.zw)(n.bhyt.ngayLap||n.bhyt.ngayBienLai||new Date(n.bhyt.updated_at).toLocaleString()),1),r,n.bhyt.soBienLai?((0,a.wg)(),(0,a.iD)("a",{key:0,href:"javascript:void(0);",onClick:e[11]||(e[11]=t=>p.timTheoSoBienLai(n.bhyt.soBienLai))},(0,h.zw)(n.bhyt.soBienLai),1)):(0,a.kq)("",!0),y,n.bhyt.userName?((0,a.wg)(),(0,a.j4)(B,{key:1,color:"gray"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,h.zw)(n.bhyt.userName),1)])),_:1})):(0,a.kq)("",!0)])),_:1})])),_:1})])),_:1},8,["class"])}var u=n(3100),p=n(4170),b=n(6827);const d={props:["bhyt"],computed:{...(0,u.rn)("auth",["userDetails"])},methods:{...(0,u.nv)("bhyts",["updateGhiChu","updateMaXacNhan","loaiBo","theoDoi","dongBoDuLieu","getTraCuuThongTinBHXHTN","capNhatBHXHTN","thuTien","xoaThanhVienHGD","getBhytsBySoBienLai","maTraCuu"]),timTheoSoBienLai(t){this.getBhytsBySoBienLai(t)},xacNhanLoaiBo(t){t.maSoBhxh||(t.maSoBhxh=t.maSoBHXH),this.$q.dialog({title:"Confirm",message:"Bạn có muốn loại bỏ?",ok:{push:!0},cancel:{color:"negative"},persistent:!0}).onOk((()=>{this.loaiBo(t)}))},xacNhanGhiChu(t){this.$q.dialog({title:"Ghi chú",message:"Nội dung ghi chú?",prompt:{model:t.ghiChu,type:"text"},cancel:!0,persistent:!0}).onOk((e=>{this.updateGhiChu({ghiChu:e,maSoBhxh:t.maSoBhxh||t.maSoBHXH})})).onCancel((()=>{})).onDismiss((()=>{}))},xacNhanGiaHan(t){this.$q.dialog({title:"Gia hạn thẻ BHYT",message:"Mức đóng bảo hiểm",options:{type:"radio",model:t.tongTien,items:[{label:"T1: 972.000đ",value:"972000",color:"secondary"},{label:"T2: 680.400đ",value:"680400"},{label:"T3: 583.200đ",value:"583200"},{label:"T4: 486.000đ",value:"486000"},{label:"T5: 388.800đ",value:"388800"},{label:"Không",value:""}]},cancel:!0,persistent:!0}).onOk((e=>{this.thuTien({tongTien:e,maSoBhxh:t.maSoBhxh||t.maSoBHXH,userName:this.userDetails.userName})}))},xacNhanTheoDoi(t){t.maSoBhxh||(t.maSoBhxh=t.maSoBHXH),this.$q.dialog({title:"Confirm",message:"Bạn có muốn theo dõi?",ok:{push:!0},cancel:{color:"negative"},persistent:!0}).onOk((()=>{this.theoDoi(t)}))},getDateDiff(t){return t?p.ZP.getDateDiff(new Date(t),new Date,"days"):""},async copyBHXHToClipboard(t){try{const e=await this.getTraCuuThongTinBHXHTN({maSoBhxh:t});if(!e)return b.Z.create({type:"negative",message:"Không tham gia BHXH Tự Nguyện"}),null;this.capNhatBHXHTN([e]);const n=e.tienNsnnHoTro==33e3*parseInt(e.phuongThucDong)?e.tienNsnnHoTro:0;navigator.clipboard.writeText(`Xin chào! Mã sổ BHXH: ${e.maSoBhxh}, Họ tên: ${e.hoTen}, Ngày sinh: **/**/${new Date(e.ngaySinhDt).toLocaleDateString()}; Tên đơn vị đang tham gia: Đại lý ${e.tenDonVi}, ngày đăng ký ${e.ngayDk} mức đóng ${parseInt(e.mucDong).toLocaleString()}đ (tiền ngân sách hỗ trợ ${parseInt(e.tienNsnnHoTro+n).toLocaleString()}đ). Đóng tiếp ${e.phuongThucDong} BHXH TN, tháng bắt đầu ${e.thangBd.slice(4)}/${e.thangBd.slice(0,4)} số tiền phải đóng ${parseInt(e.tienNldPhaiNop-n).toLocaleString()}đ.\r\n`+this.userDetails.bhxhSMSText).then((function(){b.Z.create({type:"positive",message:"Bạn đã sao chép thành công!"})}),(function(t){b.Z.create({type:"negative",message:"Không thực hiện được!"+t})})),this.$q.dialog({title:"Thu BHXH",message:`Mã sổ BHXH: ${e.maSoBhxh}, Họ tên: ${e.hoTen}, Ngày sinh: **/**/${new Date(e.ngaySinhDt).getFullYear()}; Tên đơn vị đang tham gia: Đại lý ${e.tenDonVi}, ngày đăng ký ${e.ngayDk} mức đóng ${parseInt(e.mucDong).toLocaleString()}đ (tiền ngân sách hỗ trợ ${parseInt(e.tienNsnnHoTro+n).toLocaleString()}đ). Đóng tiếp ${e.phuongThucDong} BHXH TN, tháng bắt đầu ${e.thangBd.slice(4)}/${e.thangBd.slice(0,4)} số tiền phải đóng ${parseInt(e.tienNldPhaiNop-n).toLocaleString()}đ.`,prompt:{model:(e.tienNldPhaiNop-n).toLocaleString(),type:"text"},cancel:!0,persistent:!0}).onOk((e=>{this.thuTien({tongTien:e,maSoBhxh:t,isBHXHTN:1,userName:this.userDetails.userBHXH})}))}catch(e){b.Z.create({type:"negative",message:"Không thực hiện được!"+e})}},async copyMaTraCuuToClipboard({bienLaiId:t,hoTen:e,maSoBhxh:n}){const a=await this.maTraCuu(t);if(!a)return b.Z.create({type:"negative",message:"Không có mã xác nhận"}),null;await this.updateMaXacNhan({maSoBhxh:n,maXacNhan:a}),navigator.clipboard.writeText(this.userDetails.xacNhanSMSText.replace("maTraCuu",a).replace("hoTen",e)).then((function(){b.Z.create({type:"positive",message:"Bạn đã sao chép thành công!"})}),(function(t){b.Z.create({type:"negative",message:"Không thực hiện được!"+t})}))},copyUrlToClipboard(t){const[e,n,a]=(new Date).toISOString().slice(0,10).split("-");navigator.clipboard.writeText(new Date(t.denNgayDt)<=new Date(e,parseInt(n)+1,0)?`\n          Xin chào! Mã thẻ: ${t.soTheBhyt?t.soTheBhyt:t.maSoBhxh||t.maSoBHXH}, Họ tên: ${t.hoTen||t.hoVaTen}, Ngày sinh: **/**/${new Date(t.ngaySinhDt).getFullYear()}; Hạn thẻ: ${new Date(t.tuNgayDt).toLocaleDateString()} - ${new Date(t.denNgayDt).toLocaleDateString()} (còn ${this.getDateDiff(t.denNgayDt)} ngày); Thời điểm đủ 5 năm liên tục: ${t.ngay5Nam.slice(6,8)}/${t.ngay5Nam.slice(4,6)}/${t.ngay5Nam.slice(0,4)}.\r\n\n          `+this.userDetails.bhytHetHanSMSText:`\n          Thẻ hợp lệ! Mã thẻ: ${t.soTheBhyt?t.soTheBhyt:t.maSoBhxh||t.maSoBHXH}, Họ tên: ${t.hoTen||t.hoVaTen}, Ngày sinh: **/**/${new Date(t.ngaySinhDt).getFullYear()}; Hạn thẻ: ${new Date(t.tuNgayDt).toLocaleDateString()} - ${new Date(t.denNgayDt).toLocaleDateString()} (còn ${this.getDateDiff(t.denNgayDt)} ngày); Thời điểm đủ 5 năm liên tục: ${t.ngay5Nam.slice(6,8)}/${t.ngay5Nam.slice(4,6)}/${t.ngay5Nam.slice(0,4)}. \r\n\n          `+this.userDetails.bhytSMSText).then((function(){b.Z.create({type:"positive",message:"Bạn đã sao chép thành công!"})}),(function(t){b.Z.create({type:"negative",message:"Không thực hiện được!"+t})}))},copyTextToClipboard(t){navigator.clipboard.writeText(t.toString().slice(t.length-10)).then((function(){b.Z.create({type:"positive",message:"Bạn đã sao chép thành công!"})}),(function(t){b.Z.create({type:"negative",message:"Không thực hiện được!"+t})}))},copySDTToClipboard(t){navigator.clipboard.writeText(t.toString().slice(t.length-10)).then((function(){b.Z.create({type:"positive",message:"Bạn đã sao chép thành công!"})}),(function(t){b.Z.create({type:"negative",message:"Không thực hiện được!"+t})}))}},filters:{tien:function(t){return t?parseInt(t).toLocaleString():"0đ"}}};var T=n(1639),B=n(490),D=n(1233),w=n(3115),H=n(2857),S=n(990),f=n(9984),N=n.n(f);const x=(0,T.Z)(d,[["render",m]]),k=x;N()(d,"components",{QItem:B.Z,QItemSection:D.Z,QItemLabel:w.Z,QIcon:H.Z,QBadge:S.Z})}}]);