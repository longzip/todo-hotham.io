"use strict";(globalThis["webpackChunktodolist"]=globalThis["webpackChunktodolist"]||[]).push([[144],{4144:(e,t,a)=>{a.r(t),a.d(t,{default:()=>y});var s=a(9835);const o={class:"row"};function n(e,t,a,n,r,l){const m=(0,s.up)("q-input"),i=(0,s.up)("q-space"),u=(0,s.up)("q-btn"),p=(0,s.up)("q-form"),d=(0,s.up)("q-card"),c=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(c,{class:"flex q-pa-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{class:"full-width"},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{onSubmit:l.submitForm},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{modelValue:r.formData.email,"onUpdate:modelValue":t[0]||(t[0]=e=>r.formData.email=e),class:"q-mb-md",outlined:"",type:"text",label:"Tên đăng nhập"},null,8,["modelValue"]),(0,s.Wm)(m,{modelValue:r.formData.password,"onUpdate:modelValue":t[1]||(t[1]=e=>r.formData.password=e),class:"q-mb-md",outlined:"",type:"password",label:"Mật khẩu"},null,8,["modelValue"]),(0,s._)("div",o,[(0,s.Wm)(i),(0,s.Wm)(u,{color:"primary",type:"submit",label:"Đăng nhập"})])])),_:1},8,["onSubmit"])])),_:1})])),_:1})}a(9665);var r=a(3100),l=a(9981),m=a.n(l);const i={data(){return{formData:{email:"",password:""}}},methods:{...(0,r.nv)("auth",["registerUser","loginUser"]),...(0,r.nv)("bhyts",["GetCurrentLoginInformations"]),sleep(e){return new Promise((t=>setTimeout(t,e)))},async submitForm(){const e={isWeb:!0,password:this.formData.password,rememberClient:!1,userNameOrEmailAddress:this.formData.email};let t={method:"post",maxBodyLength:1/0,url:"https://ssm-api.vnpost.vn/api/TokenAuth/Authenticate",headers:{Accept:"application/json","Content-Type":"application/json"},data:e};const{data:a}=await m().request(t),s=a.result.accessToken,o={smsText:e,isLogin:s};await this.registerUser(o),await this.sleep(2e3),this.$router.push("/")}},async mounted(){await this.sleep(2e3),localStorage.getItem("setIsLogin")&&this.$router.push("/")}};var u=a(1639),p=a(9885),d=a(4458),c=a(8326),h=a(7471),w=a(136),b=a(4455),f=a(9984),g=a.n(f);const q=(0,u.Z)(i,[["render",n]]),y=q;g()(i,"components",{QPage:p.Z,QCard:d.Z,QForm:c.Z,QInput:h.Z,QSpace:w.Z,QBtn:b.Z})}}]);