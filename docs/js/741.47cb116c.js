"use strict";(globalThis["webpackChunktodo_buudienxatulap"]=globalThis["webpackChunktodo_buudienxatulap"]||[]).push([[741],{7741:(t,e,a)=>{a.r(e),a.d(e,{default:()=>g});var n=a(9835);function l(t,e,a,l,o,s){const u=(0,n.up)("q-icon"),i=(0,n.up)("q-input"),h=(0,n.up)("q-btn"),d=(0,n.up)("q-form"),r=(0,n.up)("q-card"),m=(0,n.up)("q-page");return(0,n.wg)(),(0,n.j4)(m,null,{default:(0,n.w5)((()=>[(0,n.Wm)(r,{class:"q-pa-md"},{default:(0,n.w5)((()=>[(0,n.Wm)(d,{onSubmit:s.luuThongTin,class:"q-gutter-md"},{default:(0,n.w5)((()=>[(0,n.Wm)(u,{name:"update",onClick:e[0]||(e[0]=t=>s.taoKhoaMoi({}))}),(0,n.Wm)(i,{modelValue:o.formData.isLogin,"onUpdate:modelValue":e[1]||(e[1]=t=>o.formData.isLogin=t),class:"q-mb-md",outlined:"",type:"textarea",label:"Khóa bí mật"},null,8,["modelValue"]),(0,n.Wm)(i,{modelValue:o.formData.bhytSMSText,"onUpdate:modelValue":e[2]||(e[2]=t=>o.formData.bhytSMSText=t),class:"q-mb-md",outlined:"",type:"textarea",label:"Mẫu tin nhắn BHYT"},null,8,["modelValue"]),(0,n.Wm)(i,{modelValue:o.formData.bhytHetHanSMSText,"onUpdate:modelValue":e[3]||(e[3]=t=>o.formData.bhytHetHanSMSText=t),class:"q-mb-md",outlined:"",type:"textarea",label:"Mẫu tin nhắn BHYT hết hạn"},null,8,["modelValue"]),(0,n.Wm)(i,{modelValue:o.formData.xacNhanSMSText,"onUpdate:modelValue":e[4]||(e[4]=t=>o.formData.xacNhanSMSText=t),class:"q-mb-md",outlined:"",type:"textarea",label:"Mẫu tin nhắn xác nhận đóng tiền"},null,8,["modelValue"]),(0,n.Wm)(i,{modelValue:o.formData.bhxhSMSText,"onUpdate:modelValue":e[5]||(e[5]=t=>o.formData.bhxhSMSText=t),class:"q-mb-md",outlined:"",type:"textarea",label:"Mẫu tin nhắn BHXH"},null,8,["modelValue"]),(0,n.Wm)(i,{modelValue:o.formData.guiHangSMSText,"onUpdate:modelValue":e[6]||(e[6]=t=>o.formData.guiHangSMSText=t),class:"q-mb-md",outlined:"",type:"textarea",label:"Mẫu tin nhắn gửi hàng bưu điện."},null,8,["modelValue"]),(0,n._)("div",null,[(0,n.Wm)(h,{label:"Cập nhật",type:"submit",color:"primary"})])])),_:1},8,["onSubmit"])])),_:1})])),_:1})}var o=a(9981),s=a.n(o),u=a(3100);const i={data(){return{formData:{name:"Bưu điện xã Tự Lập",email:"info@buudienxatulap.ga",smsText:"sss",isLogin:"",bhytSMSText:"",bhytHetHanSMSText:"",bhxhSMSText:"",xacNhanSMSText:"",guiHangSMSText:""}}},computed:{...(0,u.Se)("auth",["userDetails"])},methods:{...(0,u.nv)("auth",["firebaseUpdateUser","firebaseUpdateUserAll","handleAuthStateChanged"]),luuThongTin(){this.formData.isLogin&&this.$q.dialog({title:"Xác nhận",message:"Bạn có muốn lưu thông tin cấu hình",cancel:!0,persistent:!0}).onOk((()=>{this.firebaseUpdateUserAll({userId:this.userDetails.userId,updates:this.formData}),this.handleAuthStateChanged()}))},async saveBHYT(t){const e={"Content-Type":"application/json"},a="https://app.hotham.vn/api/user-ghi-chu",n=await fetch(a,{method:"PUT",headers:e,body:JSON.stringify({ghiChu:t})}),l=await n.json();if(l.errors)throw console.error(l.errors),new Error("Failed to fetch API");return l},async taoKhoaMoi(){let t={method:"post",maxBodyLength:1/0,url:"https://ssm-api.vnpost.vn/api/TokenAuth/Authenticate",headers:{Accept:"application/json","Content-Type":"application/json"},data:this.userDetails.smsText};const{data:e}=await s().request(t);this.formData.isLogin=e.result.accessToken,await this.firebaseUpdateUser({userId:this.userDetails.userId,updates:this.formData}),await this.handleAuthStateChanged(),window.location.href="https://todo.hotham.vn/"}},created(){this.formData={...this.userDetails}}};var h=a(1639),d=a(9885),r=a(4458),m=a(8326),p=a(7471),c=a(2857),b=a(4455),S=a(9984),x=a.n(S);const f=(0,h.Z)(i,[["render",l]]),g=f;x()(i,"components",{QPage:d.Z,QCard:r.Z,QForm:m.Z,QInput:p.Z,QIcon:c.Z,QBtn:b.Z})}}]);