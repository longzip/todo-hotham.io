"use strict";(globalThis["webpackChunktodolist"]=globalThis["webpackChunktodolist"]||[]).push([[996],{8018:(e,t,a)=>{a.d(t,{A:()=>y});var n=a(1758),i=a(8790);const o={class:"text-bold text-subtitle1"};function h(e,t,a,h,s,l){const c=(0,n.g2)("q-banner");return(0,n.uX)(),(0,n.Wv)(c,{dense:"","inline-actions":"",class:(0,i.C4)([a.bgcolor,"list-header text-white text-center"])},{default:(0,n.k6)((()=>[(0,n.Lk)("span",o,[(0,n.RG)(e.$slots,"default")])])),_:3},8,["class"])}const s={props:["bgcolor"]};var l=a(2807),c=a(6868),r=a(8582),u=a.n(r);const g=(0,l.A)(s,[["render",h]]),y=g;u()(s,"components",{QBanner:c.A})},4279:(e,t,a)=>{a.d(t,{A:()=>A});var n=a(1758),i=a(8790);const o={key:0},h=["href"],s=["href"],l=["href"],c=["href"],r=["href"],u={class:"q-gutter-xs"},g=(0,n.Lk)("br",null,null,-1),y=(0,n.Lk)("br",null,null,-1),b={key:2},m=(0,n.Lk)("br",null,null,-1);function T(e,t,a,T,p,d){const B=(0,n.g2)("q-icon"),H=(0,n.g2)("q-item-label"),D=(0,n.g2)("q-item-section"),k=(0,n.g2)("q-separator"),S=(0,n.g2)("q-item"),x=(0,n.g2)("q-list"),N=(0,n.g2)("q-menu"),v=(0,n.g2)("q-btn"),f=(0,n.g2)("q-badge"),X=(0,n.gN)("close-popup");return(0,n.uX)(),(0,n.Wv)(S,{class:(0,i.C4)({"bg-warning":a.bhyt.coTheUuTienCaoHon,"bg-warning":1==a.bhyt.coTheUuTienCaoHon,"bg-positive":d.getDateDiff(a.bhyt.denNgayDt)>30,"bg-blue-grey-3":d.getDateDiff(a.bhyt.denNgayDt)<1})},{default:(0,n.k6)((()=>[(0,n.bF)(D,null,{default:(0,n.k6)((()=>[(0,n.bF)(H,null,{default:(0,n.k6)((()=>[(0,n.bF)(B,{class:(0,i.C4)(1==a.bhyt.gioiTinh?"text-pink":"text-primary"),name:1==a.bhyt.gioiTinh?"female":"male"},null,8,["class","name"]),(0,n.eW)((0,i.v_)(a.bhyt.hoTen||a.bhyt.hoVaTen)+" "+(0,i.v_)(a.bhyt.ngaySinhDt||a.bhyt.ngayThangNamSinh)+" ",1),e.userDetails.isPro?((0,n.uX)(),(0,n.Wv)(B,{key:0,onClick:t[0]||(t[0]=e=>d.xacNhanLoaiBo(a.bhyt)),name:1==a.bhyt.disabled?"do_not_disturb_on":"delete_forever",color:1==a.bhyt.disabled?"red":"gray"},null,8,["name","color"])):(0,n.Q3)("",!0)])),_:1}),(0,n.bF)(H,{caption:"",lines:"2"},{default:(0,n.k6)((()=>[(0,n.eW)((0,i.v_)(a.bhyt.diaChiLh),1)])),_:1}),e.userDetails.isPro?((0,n.uX)(),(0,n.CE)("div",o,[(0,n.bF)(H,{caption:"",lines:"2"},{default:(0,n.k6)((()=>[(0,n.eW)(" Mã hộ:"),(0,n.Lk)("a",{target:"_blank",href:`/#/ho-gia-dinh/${a.bhyt.maHoGd}`},(0,i.v_)(a.bhyt.maHoGd),9,h),(0,n.eW)(" "+(0,i.v_)(a.bhyt.mqhChuHo),1)])),_:1}),(0,n.bF)(H,{caption:"",lines:"2"},{default:(0,n.k6)((()=>[(0,n.eW)(" Tờ khai:"),(0,n.Lk)("a",{target:"_blank",href:`/#/ho-gia-dinh/${a.bhyt.uniqid}`},(0,i.v_)(a.bhyt.uniqid),9,s),(0,n.Lk)("a",{target:"_blank",href:`https://app.hotham.vn/thanh-vien-ho-gia-dinh-by/${a.bhyt.uniqid}/pdf`},[(0,n.bF)(B,{class:"q-ml-sm",name:"print",color:"blue"})],8,l)])),_:1})])):(0,n.Q3)("",!0),(0,n.bF)(H,{caption:"",lines:"2"},{default:(0,n.k6)((()=>[(0,n.eW)(" Số CMND: "+(0,i.v_)(a.bhyt.soCmnd),1)])),_:1}),(0,n.bF)(H,{caption:"",lines:"2"},{default:(0,n.k6)((()=>[(0,n.eW)((0,i.v_)(a.bhyt.soTheBhyt?a.bhyt.soTheBhyt:a.bhyt.maSoBhxh||a.bhyt.maSoBHXH)+" ",1),(0,n.bF)(B,{class:"q-ml-md",onClick:t[1]||(t[1]=e=>d.copyTextToClipboard(a.bhyt.soTheBhyt?a.bhyt.soTheBhyt:a.bhyt.maSoBhxh||a.bhyt.maSoBHXH)),name:"content_copy"}),(0,n.bF)(B,{class:"q-ml-md",onClick:t[2]||(t[2]=e=>d.copyThoiHan(a.bhyt)),name:"text_format"})])),_:1}),(0,n.bF)(H,{caption:"",lines:"2"},{default:(0,n.k6)((()=>[(0,n.eW)((0,i.v_)(a.bhyt.maKCB),1)])),_:1}),(0,n.bF)(H,{caption:"",lines:"2"},{default:(0,n.k6)((()=>[(0,n.eW)("5 năm:"+(0,i.v_)(a.bhyt.ngay5Nam||a.bhyt.trangThaiHoSoName||a.bhyt.moTa),1)])),_:1}),e.userDetails.isPro&&a.bhyt.tienNop?((0,n.uX)(),(0,n.Wv)(H,{key:1,caption:"",lines:"2"},{default:(0,n.k6)((()=>[(0,n.Lk)("span",{onClick:t[3]||(t[3]=t=>e.setCurrentBhyt(a.bhyt)),class:(0,i.C4)({"bg-red text-white text-bold q-pa-xs":d.getDateDiff(a.bhyt.denThangDt)<32})},[(0,n.Lk)("strong",null,"BHXH "+(0,i.v_)(a.bhyt.maPhuongThucDong)+":",1),(0,n.eW)(" "+(0,i.v_)(a.bhyt.mucDong)+" T"+(0,i.v_)(a.bhyt.tuThangTN)+"-"+(0,i.v_)(a.bhyt.denThangDt?.slice(0,7)),1)],2)])),_:1})):(0,n.Q3)("",!0),e.userDetails.isPro&&"Đã nhận kết quả phát sinh từ BHXH"!==a.bhyt.trangThaiHoSoName&&"Phát sinh thành công"!==a.bhyt.thongBaoBhxh?((0,n.uX)(),(0,n.Wv)(H,{key:2,caption:"",class:"text-red text-bold",lines:"2"},{default:(0,n.k6)((()=>[(0,n.eW)((0,i.v_)(a.bhyt.trangThaiHoSoName)+" "+(0,i.v_)(a.bhyt.thongBaoBhxh),1)])),_:1})):(0,n.Q3)("",!0),e.userDetails.isPro?((0,n.uX)(),(0,n.Wv)(H,{key:3,caption:"",lines:"2"},{default:(0,n.k6)((()=>[(0,n.eW)((0,i.v_)(a.bhyt.ghiChu||"Ghi chú:")+" ",1),(0,n.bF)(B,{onClick:t[4]||(t[4]=e=>d.xacNhanGhiChu(a.bhyt)),name:"edit"})])),_:1})):(0,n.Q3)("",!0),e.userDetails.isPro?((0,n.uX)(),(0,n.Wv)(H,{key:4,caption:"",lines:"2"},{default:(0,n.k6)((()=>[a.bhyt.ngaySinhDt?((0,n.uX)(),(0,n.CE)("a",{key:0,href:`tel:${a.bhyt.soDienThoai2}`},(0,i.v_)(a.bhyt.soDienThoai2||"Thêm sđt:"),9,c)):(0,n.Q3)("",!0),(0,n.bF)(B,{onClick:t[5]||(t[5]=e=>d.xacNhanSoDienThoai2(a.bhyt)),name:"edit"})])),_:1})):(0,n.Q3)("",!0),e.userDetails.isPro&&a.bhyt.soDienThoai?((0,n.uX)(),(0,n.Wv)(H,{key:5,caption:""},{default:(0,n.k6)((()=>[(0,n.Lk)("a",{href:`tel:${a.bhyt.soDienThoai}`},(0,i.v_)(a.bhyt.soDienThoai),9,r),(0,n.bF)(B,{class:"q-ml-md",onClick:t[6]||(t[6]=e=>d.copySDTToClipboard(a.bhyt.soDienThoai)),name:"content_copy"})])),_:1})):(0,n.Q3)("",!0)])),_:1}),e.userDetails.isPro?((0,n.uX)(),(0,n.Wv)(D,{key:0,side:"",top:""},{default:(0,n.k6)((()=>[(0,n.Lk)("div",u,[(0,n.bF)(v,{size:"12px",flat:"",dense:"",round:"",icon:"more_horiz"},{default:(0,n.k6)((()=>[(0,n.bF)(N,null,{default:(0,n.k6)((()=>[(0,n.bF)(x,{style:{"min-width":"300px"}},{default:(0,n.k6)((()=>[(0,n.bF)(k),(0,n.bo)(((0,n.uX)(),(0,n.Wv)(S,{clickable:""},{default:(0,n.k6)((()=>[(0,n.bF)(D,{onClick:t[7]||(t[7]=e=>d.copyUrlToClipboard(a.bhyt))},{default:(0,n.k6)((()=>[(0,n.eW)("Thời hạn sử dụng thẻ")])),_:1})])),_:1})),[[X]]),(0,n.bo)(((0,n.uX)(),(0,n.Wv)(S,{clickable:""},{default:(0,n.k6)((()=>[(0,n.bF)(D,{onClick:t[8]||(t[8]=e=>d.copyMaTraCuuToClipboard(a.bhyt))},{default:(0,n.k6)((()=>[(0,n.eW)("Gửi mã tra cứu BHYT")])),_:1})])),_:1})),[[X]]),(0,n.bo)(((0,n.uX)(),(0,n.Wv)(S,{clickable:""},{default:(0,n.k6)((()=>[(0,n.bF)(D,{onClick:t[9]||(t[9]=e=>d.copyMaTraCuuToClipboard({...a.bhyt,maThuTuc:0}))},{default:(0,n.k6)((()=>[(0,n.eW)("Gửi mã tra cứu BHXH TN")])),_:1})])),_:1})),[[X]]),(0,n.bo)(((0,n.uX)(),(0,n.Wv)(S,{clickable:""},{default:(0,n.k6)((()=>[(0,n.bF)(D,{onClick:t[10]||(t[10]=e=>d.copyBHXHToClipboard(a.bhyt.maSoBhxh||a.bhyt.maSoBHXH))},{default:(0,n.k6)((()=>[(0,n.eW)("Tra cứu quá trình đóng BHXH")])),_:1})])),_:1})),[[X]])])),_:1})])),_:1})])),_:1}),(0,n.bF)(v,{onClick:t[11]||(t[11]=t=>e.xoaThanhVienHGD(a.bhyt.maSoBhxh)),size:"12px",flat:"",dense:"",round:"",icon:"close"})]),(0,n.bF)(H,{caption:""},{default:(0,n.k6)((()=>[(0,n.eW)("Hạn: "+(0,i.v_)(d.formatDate(a.bhyt.denNgayDt)),1)])),_:1}),(0,n.bF)(H,{caption:""},{default:(0,n.k6)((()=>[(0,n.eW)("Ngày:"+(0,i.v_)((a.bhyt.denNgayDt||a.bhyt.ngayDenHan||"").slice(0,10)),1)])),_:1}),(0,n.bF)(H,{caption:""},{default:(0,n.k6)((()=>[(0,n.eW)(" BHYT: "),1==a.bhyt.isBHYT?((0,n.uX)(),(0,n.Wv)(B,{key:0,class:"q-pr-sm",onClick:t[12]||(t[12]=e=>d.xacNhanHuyThu(a.bhyt,1)),name:"paid"})):(0,n.Q3)("",!0),(0,n.Lk)("strong",{onClick:t[13]||(t[13]=e=>d.xacNhanGiaHan(a.bhyt)),class:"text-subtitle2 text-weight-bold"},(0,i.v_)(a.bhyt.tongTien||a.bhyt.soTienThu||a.bhyt.soPhaiDong?parseInt(a.bhyt.tongTien||a.bhyt.soTienThu||a.bhyt.soPhaiDong).toLocaleString():"0"),1),(0,n.eW)("đ")])),_:1}),(0,n.bF)(H,{caption:""},{default:(0,n.k6)((()=>[(0,n.eW)(" BHXH: "),1==a.bhyt.isBHXHTN?((0,n.uX)(),(0,n.Wv)(B,{key:0,class:"q-pr-sm",onClick:t[14]||(t[14]=e=>d.xacNhanHuyThu(a.bhyt,0)),name:"paid"})):(0,n.Q3)("",!0),(0,n.Lk)("strong",{class:"text-subtitle2 text-weight-bold",onClick:t[15]||(t[15]=e=>d.confirmDongBHXH(a.bhyt))},(0,i.v_)(a.bhyt.tienNop?parseInt(a.bhyt.tienNop).toLocaleString():"0"),1),(0,n.eW)("đ")])),_:1}),(0,n.bF)(H,{caption:""},{default:(0,n.k6)((()=>[(0,n.eW)(" YTBT: "),(0,n.Lk)("strong",{class:"text-subtitle2 text-weight-bold",onClick:t[16]||(t[16]=e=>d.xacNhanMucDongBHYTBT(a.bhyt))},(0,i.v_)(a.bhyt.mucDongBHYTBT?parseInt(a.bhyt.mucDongBHYTBT).toLocaleString():"0")+"đ",1),g,a.bhyt.denNgayBHYTBT?((0,n.uX)(),(0,n.CE)("span",{key:0,class:(0,i.C4)({"bg-red text-white text-bold q-pa-xs":d.getDateDiff(a.bhyt.denNgayBHYTBT)<30}),onClick:t[17]||(t[17]=e=>d.xacNhanDenNgayBHYTBT(a.bhyt))},(0,i.v_)(new Date(a.bhyt.denNgayBHYTBT).toLocaleDateString()),3)):(0,n.Q3)("",!0)])),_:1}),(0,n.bF)(B,{onClick:t[18]||(t[18]=e=>d.xacNhanTheoDoi(a.bhyt)),name:"star",color:1==a.bhyt.completed?"yellow":"gray"},null,8,["color"]),a.bhyt.userName?((0,n.uX)(),(0,n.Wv)(f,{key:0,class:"q-mr-sm",color:"gray"},{default:(0,n.k6)((()=>[(0,n.eW)((0,i.v_)(a.bhyt.userName),1)])),_:1})):(0,n.Q3)("",!0),(0,n.bF)(H,{caption:""},{default:(0,n.k6)((()=>[(0,n.eW)(" Bl: "),a.bhyt.soBienLai?((0,n.uX)(),(0,n.CE)("a",{key:0,href:"javascript:void(0);",onClick:t[19]||(t[19]=e=>d.timTheoSoBienLai(a.bhyt.soBienLai))},(0,i.v_)(a.bhyt.soBienLai),1)):(0,n.Q3)("",!0),(0,n.eW)(" / "),a.bhyt.soBienLai?((0,n.uX)(),(0,n.CE)("a",{key:1,href:"javascript:void(0);",onClick:t[20]||(t[20]=e=>d.timTheoSoBienLai(a.bhyt.soBienLai))},(0,i.v_)(a.bhyt.soBienLaiTN),1)):(0,n.Q3)("",!0),y,(0,n.eW)(" N: "+(0,i.v_)(a.bhyt.ngayBienLai||a.bhyt.ngayLap)+" ",1),a.bhyt.ngayLapTN?((0,n.uX)(),(0,n.CE)("span",b,"/"+(0,i.v_)(a.bhyt.ngayBienLai||a.bhyt.ngayLapTN),1)):(0,n.Q3)("",!0)])),_:1}),a.bhyt.updated_at?((0,n.uX)(),(0,n.Wv)(H,{key:1,caption:""},{default:(0,n.k6)((()=>[m,(0,n.bF)(B,{class:"q-ml-sm",onClick:t[21]||(t[21]=t=>e.traCuuBHXH(a.bhyt.maSoBhxh||a.bhyt.maSoBHXH)),name:"update",color:"blue"}),(0,n.eW)(" "+(0,i.v_)(d.formatDate(a.bhyt.updated_at)),1)])),_:1})):(0,n.Q3)("",!0)])),_:1})):(0,n.Q3)("",!0)])),_:1},8,["class"])}var p=a(6980),d=a(6246),B=a(1627),H=a(5038),D=a.n(H);const k={props:["bhyt"],computed:{...(0,p.aH)("auth",["userDetails"])},methods:{...(0,p.i0)("bhyts",["updateGhiChu","updateMaXacNhan","updateDenNgayBHYTBT","loaiBo","theoDoi","xem","getTraCuuThongTinBHXHTN","thuTien","xoaThanhVienHGD","getBhytsBySoBienLai","maTraCuu","huyThuTien","huyThuBHYT","huyThuBHXHTN","updateTongTien","copyBhyt","setCurrentBhyt","traCuuBHXH"]),formatDate(e){return D()(e).fromNow()},timTheoSoBienLai(e){this.getBhytsBySoBienLai(e)},xacNhanLoaiBo(e){e.maSoBhxh||(e.maSoBhxh=e.maSoBHXH),this.$q.dialog({title:"Confirm",message:"Bạn có muốn loại bỏ?",ok:{push:!0},cancel:{color:"negative"},persistent:!0}).onOk((()=>{this.loaiBo(e)}))},xacNhanGhiChu(e){this.$q.dialog({title:"Ghi chú",message:"Nội dung ghi chú?",prompt:{model:e.ghiChu,type:"text"},cancel:!0,persistent:!0}).onOk((t=>{this.updateGhiChu({ghiChu:t,maSoBhxh:e.maSoBhxh||e.maSoBHXH})}))},xacNhanSoDienThoai2(e){this.$q.dialog({title:"Ghi chú",message:"Số điện thoại 2?",prompt:{model:e.soDienThoai2,type:"text"},cancel:!0,persistent:!0}).onOk((t=>{this.updateTongTien({maSoBhxh:e.maSoBhxh||e.maSoBHXH,capNhatBHYT:{soDienThoai2:t}})}))},xacNhanGiaHan(e){const t=[{label:"T1: 1.263.600đ",value:"1263600",color:"secondary"},{label:"T2: 884.520đ",value:"884520"},{label:"T3: 758.160đ",value:"758160"},{label:"T4: 631.800đ",value:"631800"},{label:"T5: 505.440đ",value:"505440"},{label:"Hủy thu",value:"0"}];this.$q.dialog({title:"Gia hạn thẻ BHYT",message:"Mức đóng bảo hiểm",options:{type:"radio",model:e.tongTien,items:t},cancel:!0,persistent:!0}).onOk((t=>{const a={tongTien:t,maSoBhxh:e.maSoBhxh||e.maSoBHXH,userName:this.userDetails.maNhanVienThu,maXa:this.userDetails.maXa};"0"!==t?this.thuTien(a):this.huyThuTien({...a,disabled:0,tongTien:0,bienLaiId:e.bienLaiId,userName:this.userDetails.id})}))},xacNhanMucDongBHYTBT(e){this.$q.dialog({title:"Thu bảo hiểm y tế bổ trợ",message:"Chọn gói BHYT bổ trợ:",options:{type:"radio",model:e.mucDongBHYTBT,items:[{label:"Gói mạnh khỏe: 106.000đ",value:"106000",color:"secondary"},{label:"Gói hạnh phúc: 169.000đ",value:"169000"},{label:"Hủy thu",value:"0"}]},cancel:!0,persistent:!0}).onOk((t=>{const{addToDate:a}=d.Ay;this.updateTongTien({maSoBhxh:e.maSoBhxh||e.maSoBHXH,capNhatBHYT:{mucDongBHYTBT:t,maXa:this.userDetails.maXa,denNgayBHYTBT:"0"!==t?a(new Date,{months:12}).toISOString().slice(0,10):null,userName:this.userDetails.id}})}))},xacNhanDenNgayBHYTBT(e){this.$q.dialog({title:"Cập nhật ngày biên lai",message:"Ngày biên lai?",prompt:{model:e.denNgayBHYTBT.slice(0,10),isValid:e=>10==e.length,type:"text"},cancel:!0,persistent:!0}).onOk((t=>{this.updateDenNgayBHYTBT({denNgayBHYTBT:t,maSoBhxh:e.maSoBhxh||e.maSoBHXH,maXa:this.userDetails.maXa})}))},xacNhanTheoDoi(e){e.maSoBhxh||(e.maSoBhxh=e.maSoBHXH),this.$q.dialog({title:"Confirm",message:"Bạn có muốn theo dõi?",ok:{push:!0},cancel:{color:"negative"},persistent:!0}).onOk((()=>{this.theoDoi(e)}))},xacNhanHuyThu(e,t){e.maSoBhxh||(e.maSoBhxh=e.maSoBHXH),this.$q.dialog({title:"Confirm",message:`Bạn có muốn hủy thu tiền ${t?"BHYT":"BHXH tự nguyện"}?`,ok:{push:!0},cancel:{color:"negative"},persistent:!0}).onOk((()=>{t?this.huyThuBHYT({maSoBhxh:e.maSoBhxh,userName:this.userDetails.id}):this.huyThuBHXHTN({maSoBhxh:e.maSoBhxh,userName:this.userDetails.id})}))},getDateDiff(e){return e?d.Ay.getDateDiff(new Date(e),new Date,"days"):""},async copyBHXHToClipboard(e){try{const t=await this.getTraCuuThongTinBHXHTN(e);if(!t?.maSoBhxh)return void B.A.create({type:"negative",message:"Không tham gia BHXH Tự Nguyện"});const a=new Date(t.ngaySinhDt).toLocaleDateString(),n=parseInt(t.tienNop).toLocaleString(),i=`Xin chào! Mã sổ BHXH: ${this.baoMatSoBHXH(t.maSoBhxh)}, Họ tên: ${t.hoTen}, Ngày sinh: ${a}; Tên đơn vị đang tham gia: Đại lý ${t.tenDonVi}. Đóng tiếp ${t.phuongThucDong} BHXH TN, tháng bắt đầu ${t.thangBd.slice(4)}/${t.thangBd.slice(0,4)} số tiền phải đóng ${n}đ.\r\n${this.userDetails?.bhxhSMSText||""}`;await navigator.clipboard.writeText(i),B.A.create({type:"positive",message:"Bạn đã sao chép thành công!"}),this.confirmDongBHXH(t)}catch(t){B.A.create({type:"negative",message:"Không thực hiện được!"+t})}},confirmDongBHXH(e){const t=new Date(e.ngaySinhDt).toLocaleDateString(),a=parseInt(e.mucDong).toLocaleString(),n=parseInt(e.tienNop).toLocaleString(),i=parseInt(e.tienNsnnHoTro).toLocaleString(),o=e.thangBd?`Mã sổ BHXH: ${this.baoMatSoBHXH(e.maSoBhxh)}, Họ tên: ${e.hoTen}, Ngày sinh: ${t}; Tên đơn vị đang tham gia: Đại lý ${e.tenDonVi}, mức đóng ${a}đ (tiền ngân sách hỗ trợ ${i}đ). Đóng tiếp ${e.phuongThucDong} BHXH TN, tháng bắt đầu ${e.thangBd.slice(4)}/${e.thangBd.slice(0,4)} số tiền phải đóng ${n}đ.`:`Mã sổ BHXH: ${e.maSoBhxh}, Họ tên: ${e.hoTen}, Ngày sinh: ${t}; Mức đóng ${a}đ. Đóng tiếp ${e.maPhuongThucDong} tháng BHXH TN, số tiền phải đóng ${n}đ.`;this.$q.dialog({title:"Thu BHXH",message:o,prompt:{model:n,type:"text"},cancel:!0,persistent:!0}).onOk((t=>{this.thuTien({tienNop:t,maSoBhxh:e.maSoBhxh||e.maSoBHXH,userName:this.userDetails.maNhanVienThu})}))},async copyMaTraCuuToClipboard({bienLaiId:e,bienLaiIdTN:t,hoTen:a,maSoBhxh:n,maThuTuc:i=1}){const{maXacNhan:o,ngayBienLai:h,soBienLai:s}=await this.maTraCuu(1===i?e:t);if(!o)return B.A.create({type:"negative",message:"Không có mã xác nhận"}),null;let l={maSoBhxh:n};l=0===i?{maSoBhxh:n,maXacNhanTN:o,ngayLapTN:h.split("/").reverse().join("-"),soBienLaiTN:s}:{maSoBhxh:n,maXacNhan:o,ngayLap:h.split("/").reverse().join("-"),soBienLai:s};const c=await this.updateMaXacNhan(l);navigator.clipboard.writeText(this.userDetails.xacNhanSMSText.replace("maXacNhan",o).replace("soBienLai",s).replace("ngayBienLai",h).replace("hoTen",a)).then((function(){B.A.create({type:"positive",message:`${a}. Mã xác nhận: ${o} - ${s}, ${h}, `})}),(function(e){B.A.create({type:"negative",message:"Không thực hiện được!"+e})})),this.quaySoDienThoai(c.soDienThoai2||c.soDienThoai)},quaySoDienThoai(e){if(e){let t=document.createElement("a");t.href=`tel:${e}`,t.click()}},async copyUrlToClipboard(e){const[t,a]=(new Date).toISOString().slice(0,7).split("-"),n=new Date(e.denNgayDt)<=new Date(t,parseInt(a)+1,0),i=`Xin chào!\r\nMã thẻ: ${this.baoMatSoBHXH(e.soTheBhyt?e.soTheBhyt:e.maSoBhxh||e.maSoBHXH)}, Họ tên: ${e.hoTen||e.hoVaTen}, Ngày sinh: **/**/${new Date(e.ngaySinhDt).getFullYear()}; Hạn thẻ: ${new Date(e.tuNgayDt).toLocaleDateString()} - ${new Date(e.denNgayDt).toLocaleDateString()} (${this.getDateDiff(e.denNgayDt)} ngày); Thời điểm đủ 5 năm liên tục: ${e.ngay5Nam?.slice(6,8)}/${e.ngay5Nam?.slice(4,6)}/${e.ngay5Nam?.slice(0,4)}.\n          `;navigator.clipboard.writeText(`${i}\r\n${n?this.userDetails.bhytHetHanSMSText.replace("_soTheBhyt",e.uniqid):this.userDetails.bhytSMSText.replace("_soTheBhyt",e.uniqid)}`).then((function(){B.A.create({type:"positive",message:"Bạn đã sao chép thành công!"})}),(function(e){B.A.create({type:"negative",message:"Không thực hiện được!"+e})})),this.quaySoDienThoai(e.soDienThoai2||e.soDienThoai)},copyTextToClipboard(e){navigator.clipboard.writeText(e.toString().slice(e.length-10)).then((function(){B.A.create({type:"positive",message:"Bạn đã sao chép thành công!"})}),(function(e){B.A.create({type:"negative",message:"Không thực hiện được!"+e})}))},copySDTToClipboard(e){navigator.clipboard.writeText(e.toString().slice(e.length-10)).then((function(){B.A.create({type:"positive",message:"Bạn đã sao chép thành công!"})}),(function(e){B.A.create({type:"negative",message:"Không thực hiện được!"+e})}))},async copyThoiHan(e){this.$q.notify({message:`<p id="bhyt-text" style="font-size: 18px;">Mã thẻ: ${this.baoMatSoBHXH(e.soTheBhyt?e.soTheBhyt:e.maSoBhxh||e.maSoBHXH)}, Họ tên: <strong>${e.hoTen||e.hoVaTen}</strong>, Ngày sinh: **/**/${new Date(e.ngaySinhDt).getFullYear()}; Hạn thẻ: <strong style="color: rgb(219, 52, 46);">${new Date(e.tuNgayDt).toLocaleDateString()} - ${new Date(e.denNgayDt).toLocaleDateString()} (${this.getDateDiff(e.denNgayDt)} ngày);</strong> Thời điểm đủ 5 năm liên tục: ${e.ngay5Nam?.slice(6,8)}/${e.ngay5Nam?.slice(4,6)}/${e.ngay5Nam?.slice(0,4)}.\n          </p>`,html:!0}),await this.sleep();const t=document.getElementById("bhyt-text"),a=window.getSelection();a.removeAllRanges();const n=document.createRange();n.selectNodeContents(t),a.addRange(n),document.execCommand("copy"),a.removeAllRanges()},sleep(e=500){return new Promise((t=>setTimeout(t,e)))},baoMatSoBHXH(e){if(!e.length)return"";const t=[...e];return t.splice(-7,3,"***"),t.join("")}}};var S=a(2807),x=a(7743),N=a(5173),v=a(3796),f=a(492),X=a(1693),_=a(9519),C=a(3999),$=a(386),L=a(3954),W=a(8672),q=a(8582),w=a.n(q);const F=(0,S.A)(k,[["render",T]]),A=F;w()(k,"components",{QItem:x.A,QItemSection:N.A,QItemLabel:v.A,QIcon:f.A,QBtn:X.A,QMenu:_.A,QList:C.A,QSeparator:$.A,QBadge:L.A}),w()(k,"directives",{ClosePopup:W.A})}}]);