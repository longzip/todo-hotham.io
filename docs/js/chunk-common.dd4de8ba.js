"use strict";(globalThis["webpackChunktodo_buudienxatulap"]=globalThis["webpackChunktodo_buudienxatulap"]||[]).push([[64],{4026:(t,e,n)=>{n.d(e,{Z:()=>m});var a=n(9835),o=n(6970);const i={class:"text-bold text-subtitle1"};function h(t,e,n,h,s,l){const c=(0,a.up)("q-banner");return(0,a.wg)(),(0,a.j4)(c,{dense:"","inline-actions":"",class:(0,o.C_)([n.bgcolor,"list-header text-white text-center"])},{default:(0,a.w5)((()=>[(0,a._)("span",i,[(0,a.WI)(t.$slots,"default")])])),_:3},8,["class"])}const s={props:["bgcolor"]};var l=n(1639),c=n(7128),g=n(9984),r=n.n(g);const y=(0,l.Z)(s,[["render",h]]),m=y;r()(s,"components",{QBanner:c.Z})},8468:(t,e,n)=>{n.d(e,{Z:()=>k});var a=n(9835),o=n(6970);const i=["href"],h=["href"],s=(0,a._)("strong",null,"BHXH TN:",-1),l=["href"],c={class:"text-subtitle2 text-weight-bold"},g=(0,a._)("br",null,null,-1),r=(0,a._)("br",null,null,-1);function y(t,e,n,y,m,u){const p=(0,a.up)("q-icon"),b=(0,a.up)("q-item-label"),d=(0,a.up)("q-item-section"),T=(0,a.up)("q-badge"),B=(0,a.up)("q-item");return(0,a.wg)(),(0,a.j4)(B,{class:(0,o.C_)({"bg-warning":n.bhyt.coTheUuTienCaoHon,"bg-warning":1==n.bhyt.coTheUuTienCaoHon,"bg-positive":u.getDateDiff(n.bhyt.denNgayDt)>30,"bg-blue-grey-3":u.getDateDiff(n.bhyt.denNgayDt)<1})},{default:(0,a.w5)((()=>[(0,a.Wm)(d,null,{default:(0,a.w5)((()=>[(0,a.Wm)(b,null,{default:(0,a.w5)((()=>[(0,a.Wm)(p,{class:(0,o.C_)(1==n.bhyt.gioiTinh?"text-pink":"text-primary"),name:1==n.bhyt.gioiTinh?"female":"male"},null,8,["class","name"]),(0,a.Uk)((0,o.zw)(n.bhyt.hoTen||n.bhyt.hoVaTen)+" "+(0,o.zw)(n.bhyt.ngaySinhDt||n.bhyt.ngayThangNamSinh)+" ",1),(0,a.Wm)(p,{onClick:e[0]||(e[0]=t=>u.xacNhanLoaiBo(n.bhyt)),name:1==n.bhyt.disabled?"do_not_disturb_on":"delete_forever",color:1==n.bhyt.disabled?"red":"gray"},null,8,["name","color"]),(0,a.Wm)(p,{class:"q-ml-sm",onClick:e[1]||(e[1]=e=>t.dongBoDuLieu(n.bhyt.soTheBhyt?n.bhyt.soTheBhyt:n.bhyt.maSoBhxh||n.bhyt.maSoBHXH)),name:"update",color:"blue"})])),_:1}),(0,a.Wm)(b,{caption:"",lines:"2"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(n.bhyt.diaChiLh),1)])),_:1}),(0,a.Wm)(b,{caption:"",lines:"2"},{default:(0,a.w5)((()=>[(0,a.Uk)(" Mã hộ:"),(0,a._)("a",{target:"_blank",href:`/#/ho-gia-dinh/${n.bhyt.maHoGd}`},(0,o.zw)(n.bhyt.maHoGd),9,i),(0,a.Uk)(" "+(0,o.zw)(n.bhyt.mqhChuHo),1)])),_:1}),(0,a.Wm)(b,{caption:"",lines:"2"},{default:(0,a.w5)((()=>[(0,a.Uk)(" Số CMND: "+(0,o.zw)(n.bhyt.soCmnd),1)])),_:1}),(0,a.Wm)(b,{caption:"",lines:"2"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(n.bhyt.soTheBhyt?n.bhyt.soTheBhyt:n.bhyt.maSoBhxh||n.bhyt.maSoBHXH)+" ",1),(0,a.Wm)(p,{class:"q-ml-md",onClick:e[2]||(e[2]=t=>u.copyTextToClipboard(n.bhyt.soTheBhyt?n.bhyt.soTheBhyt:n.bhyt.maSoBhxh||n.bhyt.maSoBHXH)),name:"content_copy"}),(0,a._)("a",{href:`tel:${n.bhyt.soDienThoai}`},[(0,a.Wm)(p,{class:"q-ml-md",onClick:e[3]||(e[3]=t=>u.copyUrlToClipboard(n.bhyt)),name:"share"})],8,h),(0,a.Wm)(p,{class:"q-ml-md",onClick:e[4]||(e[4]=t=>u.copyBHXHToClipboard(n.bhyt.maSoBhxh||n.bhyt.maSoBHXH)),name:"paid"})])),_:1}),(0,a.Wm)(b,{caption:"",lines:"2"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(n.bhyt.maKCB),1)])),_:1}),(0,a.Wm)(b,{caption:"",lines:"2"},{default:(0,a.w5)((()=>[(0,a.Uk)("5 năm:"+(0,o.zw)(n.bhyt.ngay5Nam||n.bhyt.trangThaiHoSoName||n.bhyt.moTa),1)])),_:1}),"1"==n.bhyt.isBHXHTN?((0,a.wg)(),(0,a.j4)(b,{key:0,caption:"",lines:"2"},{default:(0,a.w5)((()=>[s,(0,a.Uk)(" "+(0,o.zw)(n.bhyt.mucDong)+" - "+(0,o.zw)(n.bhyt.denThangDt.slice(0,7)),1)])),_:1})):(0,a.kq)("",!0),(0,a.Wm)(b,{caption:"",lines:"2"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(n.bhyt.ghiChu||"Ghi chú:")+" ",1),(0,a.Wm)(p,{onClick:e[5]||(e[5]=t=>u.xacNhanGhiChu(n.bhyt)),name:"edit"})])),_:1}),n.bhyt.soDienThoai?((0,a.wg)(),(0,a.j4)(b,{key:1,caption:""},{default:(0,a.w5)((()=>[(0,a._)("a",{href:`tel:${n.bhyt.soDienThoai}`},(0,o.zw)(n.bhyt.soDienThoai),9,l),(0,a.Wm)(p,{class:"q-ml-md",onClick:e[6]||(e[6]=t=>u.copySDTToClipboard(n.bhyt.soDienThoai)),name:"content_copy"})])),_:1})):(0,a.kq)("",!0)])),_:1}),(0,a.Wm)(d,{side:"",top:""},{default:(0,a.w5)((()=>[(0,a.Wm)(b,{caption:""},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(u.getDateDiff(n.bhyt.denNgayDt))+" ngày ",1),(0,a.Wm)(p,{onClick:e[7]||(e[7]=e=>t.xoaThanhVienHGD(n.bhyt.maSoBhxh)),name:"person_remove_alt_1"})])),_:1}),(0,a.Wm)(b,{caption:""},{default:(0,a.w5)((()=>[(0,a.Uk)("Đến:"+(0,o.zw)(n.bhyt.denNgayDt||n.bhyt.ngayDenHan),1)])),_:1}),(0,a.Wm)(b,{onClick:e[8]||(e[8]=t=>u.xacNhanGiaHan(n.bhyt)),caption:""},{default:(0,a.w5)((()=>[(0,a._)("strong",c,(0,o.zw)(n.bhyt.tongTien||n.bhyt.soTienThu||n.bhyt.soPhaiDong?parseInt(n.bhyt.tongTien||n.bhyt.soTienThu||n.bhyt.soPhaiDong).toLocaleString():"0"),1),(0,a.Uk)("đ")])),_:1}),(0,a.Wm)(p,{onClick:e[9]||(e[9]=t=>u.xacNhanTheoDoi(n.bhyt)),name:"star",color:1==n.bhyt.completed?"yellow":"gray"},null,8,["color"]),(0,a.Wm)(b,{caption:""},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(n.bhyt.ngayLap||n.bhyt.ngayBienLai||new Date(n.bhyt.updated_at).toLocaleString()),1),g,n.bhyt.soBienLai?((0,a.wg)(),(0,a.iD)("a",{key:0,href:"javascript:void(0);",onClick:e[10]||(e[10]=t=>u.timTheoSoBienLai(n.bhyt.soBienLai))},(0,o.zw)(n.bhyt.soBienLai),1)):(0,a.kq)("",!0),r,n.bhyt.userName?((0,a.wg)(),(0,a.j4)(T,{key:1,color:"gray"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(n.bhyt.userName),1)])),_:1})):(0,a.kq)("",!0)])),_:1})])),_:1})])),_:1},8,["class"])}var m=n(3100),u=n(4170),p=n(6827);const b={props:["bhyt"],computed:{...(0,m.rn)("auth",["userDetails"])},methods:{...(0,m.nv)("bhyts",["updateGhiChu","loaiBo","theoDoi","dongBoDuLieu","getTraCuuThongTinBHXHTN","capNhatBHXHTN","thuTien","xoaThanhVienHGD","getBhytsBySoBienLai"]),timTheoSoBienLai(t){this.getBhytsBySoBienLai(t)},xacNhanLoaiBo(t){t.maSoBhxh||(t.maSoBhxh=t.maSoBHXH),this.$q.dialog({title:"Confirm",message:"Bạn có muốn loại bỏ?",ok:{push:!0},cancel:{color:"negative"},persistent:!0}).onOk((()=>{this.loaiBo(t)}))},xacNhanGhiChu(t){this.$q.dialog({title:"Ghi chú",message:"Nội dung ghi chú?",prompt:{model:t.ghiChu,type:"text"},cancel:!0,persistent:!0}).onOk((e=>{this.updateGhiChu({ghiChu:e,maSoBhxh:t.maSoBhxh||t.maSoBHXH})})).onCancel((()=>{})).onDismiss((()=>{}))},xacNhanGiaHan(t){this.$q.dialog({title:"Gia hạn thẻ BHYT",message:"Mức đóng bảo hiểm",options:{type:"radio",model:t.tongTien,items:[{label:"T1: 972.000đ",value:"972000",color:"secondary"},{label:"T2: 680.400đ",value:"680400"},{label:"T3: 583.200đ",value:"583200"},{label:"T4: 486.000đ",value:"486000"},{label:"T5: 388.800đ",value:"388800"},{label:"Không",value:""}]},cancel:!0,persistent:!0}).onOk((e=>{this.thuTien({tongTien:e,maSoBhxh:t.maSoBhxh||t.maSoBHXH,userName:this.userDetails.userName})}))},xacNhanTheoDoi(t){t.maSoBhxh||(t.maSoBhxh=t.maSoBHXH),this.$q.dialog({title:"Confirm",message:"Bạn có muốn theo dõi?",ok:{push:!0},cancel:{color:"negative"},persistent:!0}).onOk((()=>{this.theoDoi(t)}))},getDateDiff(t){return t?u.ZP.getDateDiff(new Date(t),new Date,"days"):""},async copyBHXHToClipboard(t){try{const e=await this.getTraCuuThongTinBHXHTN({maSoBhxh:t});if(!e)return p.Z.create({type:"negative",message:"Không tham gia BHXH Tự Nguyện"}),null;this.capNhatBHXHTN([e]);const n=e.tienNsnnHoTro==33e3*parseInt(e.phuongThucDong)?e.tienNsnnHoTro:0;navigator.clipboard.writeText(`Xin chào! Mã sổ BHXH: ${e.maSoBhxh}, Họ tên: ${e.hoTen}, Ngày sinh: **/**/${new Date(e.ngaySinhDt).toLocaleDateString()}; Tên đơn vị đang tham gia: Đại lý ${e.tenDonVi}, ngày đăng ký ${e.ngayDk} mức đóng ${parseInt(e.mucDong).toLocaleString()}đ (tiền ngân sách hỗ trợ ${parseInt(e.tienNsnnHoTro+n).toLocaleString()}đ). Đóng tiếp ${e.phuongThucDong} BHXH TN, tháng bắt đầu ${e.thangBd.slice(4)}/${e.thangBd.slice(0,4)} số tiền phải đóng ${parseInt(e.tienNldPhaiNop-n).toLocaleString()}đ.\r\n`+this.userDetails.bhxhSMSText).then((function(){p.Z.create({type:"positive",message:"Bạn đã sao chép thành công!"})}),(function(t){p.Z.create({type:"negative",message:"Không thực hiện được!"+t})})),this.$q.dialog({title:"Thu BHXH",message:`Mã sổ BHXH: ${e.maSoBhxh}, Họ tên: ${e.hoTen}, Ngày sinh: **/**/${new Date(e.ngaySinhDt).getFullYear()}; Tên đơn vị đang tham gia: Đại lý ${e.tenDonVi}, ngày đăng ký ${e.ngayDk} mức đóng ${parseInt(e.mucDong).toLocaleString()}đ (tiền ngân sách hỗ trợ ${parseInt(e.tienNsnnHoTro+n).toLocaleString()}đ). Đóng tiếp ${e.phuongThucDong} BHXH TN, tháng bắt đầu ${e.thangBd.slice(4)}/${e.thangBd.slice(0,4)} số tiền phải đóng ${parseInt(e.tienNldPhaiNop-n).toLocaleString()}đ.`,prompt:{model:(e.tienNldPhaiNop-n).toLocaleString(),type:"text"},cancel:!0,persistent:!0}).onOk((e=>{this.thuTien({tongTien:e,maSoBhxh:t,isBHXHTN:1,userName:this.userDetails.userBHXH})}))}catch(e){p.Z.create({type:"negative",message:"Không thực hiện được!"+e})}},copyUrlToClipboard(t){const[e,n,a]=(new Date).toISOString().slice(0,10).split("-");navigator.clipboard.writeText(new Date(t.denNgayDt)<=new Date(e,parseInt(n)+1,0)?`\n          Xin chào! Mã thẻ: ${t.soTheBhyt?t.soTheBhyt:t.maSoBhxh||t.maSoBHXH}, Họ tên: ${t.hoTen||t.hoVaTen}, Ngày sinh: **/**/${new Date(t.ngaySinhDt).getFullYear()}; Hạn thẻ: ${new Date(t.tuNgayDt).toLocaleDateString()} - ${new Date(t.denNgayDt).toLocaleDateString()} (còn ${this.getDateDiff(t.denNgayDt)} ngày); Thời điểm đủ 5 năm liên tục: ${t.ngay5Nam.slice(6,8)}/${t.ngay5Nam.slice(4,6)}/${t.ngay5Nam.slice(0,4)}.\r\n\n          `+this.userDetails.bhytHetHanSMSText:`\n          Thẻ hợp lệ! Mã thẻ: ${t.soTheBhyt?t.soTheBhyt:t.maSoBhxh||t.maSoBHXH}, Họ tên: ${t.hoTen||t.hoVaTen}, Ngày sinh: **/**/${new Date(t.ngaySinhDt).getFullYear()}; Hạn thẻ: ${new Date(t.tuNgayDt).toLocaleDateString()} - ${new Date(t.denNgayDt).toLocaleDateString()} (còn ${this.getDateDiff(t.denNgayDt)} ngày); Thời điểm đủ 5 năm liên tục: ${t.ngay5Nam.slice(6,8)}/${t.ngay5Nam.slice(4,6)}/${t.ngay5Nam.slice(0,4)}. \r\n\n          `+this.userDetails.bhytSMSText).then((function(){p.Z.create({type:"positive",message:"Bạn đã sao chép thành công!"})}),(function(t){p.Z.create({type:"negative",message:"Không thực hiện được!"+t})}))},copyTextToClipboard(t){navigator.clipboard.writeText(t.toString().slice(t.length-10)).then((function(){p.Z.create({type:"positive",message:"Bạn đã sao chép thành công!"})}),(function(t){p.Z.create({type:"negative",message:"Không thực hiện được!"+t})}))},copySDTToClipboard(t){navigator.clipboard.writeText(t.toString().slice(t.length-10)).then((function(){p.Z.create({type:"positive",message:"Bạn đã sao chép thành công!"})}),(function(t){p.Z.create({type:"negative",message:"Không thực hiện được!"+t})}))}},filters:{tien:function(t){return t?parseInt(t).toLocaleString():"0đ"}}};var d=n(1639),T=n(490),B=n(1233),D=n(3115),H=n(2857),w=n(990),S=n(9984),N=n.n(S);const f=(0,d.Z)(b,[["render",y]]),k=f;N()(b,"components",{QItem:T.Z,QItemSection:B.Z,QItemLabel:D.Z,QIcon:H.Z,QBadge:w.Z})}}]);