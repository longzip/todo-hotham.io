"use strict";(globalThis["webpackChunktodo_buudienxatulap"]=globalThis["webpackChunktodo_buudienxatulap"]||[]).push([[389],{7389:(a,t,e)=>{e.r(t),e.d(t,{default:()=>D});var n=e(9835);function s(a,t,e,s,o,l){const i=(0,n.up)("q-input"),u=(0,n.up)("q-icon"),r=(0,n.up)("q-btn"),h=(0,n.up)("q-form"),d=(0,n.up)("q-card"),m=(0,n.up)("q-page");return(0,n.wg)(),(0,n.j4)(m,null,{default:(0,n.w5)((()=>[(0,n.Wm)(d,{class:"q-pa-md"},{default:(0,n.w5)((()=>[(0,n.Wm)(h,{onSubmit:l.luuThongTin,class:"q-gutter-md"},{default:(0,n.w5)((()=>[(0,n.Wm)(i,{filled:"",modelValue:o.formData.name,"onUpdate:modelValue":t[0]||(t[0]=a=>o.formData.name=a),label:"Tên của bạn *",hint:"Tên hoặc họ và tên","lazy-rules":"",rules:[a=>a&&a.length>0||"Vui lòng cho biết tên của bạn"]},null,8,["modelValue","rules"]),(0,n.Wm)(i,{modelValue:o.formData.email,"onUpdate:modelValue":t[1]||(t[1]=a=>o.formData.email=a),class:"q-mb-md",outlined:"",type:"email",label:"Tên đăng nhập",disable:""},null,8,["modelValue"]),(0,n.Wm)(u,{name:"update",onClick:t[2]||(t[2]=a=>l.taoKhoaMoi({}))}),(0,n.Wm)(i,{modelValue:o.formData.isLogin,"onUpdate:modelValue":t[3]||(t[3]=a=>o.formData.isLogin=a),class:"q-mb-md",outlined:"",type:"textarea",label:"Khóa bí mật"},null,8,["modelValue"]),(0,n._)("div",null,[(0,n.Wm)(r,{label:"Cập nhật",type:"submit",color:"primary"})])])),_:1},8,["onSubmit"])])),_:1})])),_:1})}var o=e(9981),l=e.n(o),i=e(3100);const u={data(){return{formData:{name:"Bưu điện xã Tự Lập",email:"info@buudienxatulap.ga",smsText:"sss",isLogin:"a"}}},computed:{...(0,i.Se)("auth",["userDetails"])},methods:{...(0,i.nv)("auth",["firebaseUpdateUser","handleAuthStateChanged"]),luuThongTin(){this.$q.dialog({title:"Xác nhận",message:"Bạn có muốn lưu thông tin cấu hình",cancel:!0,persistent:!0}).onOk((()=>{this.firebaseUpdateUser({userId:this.userDetails.userId,updates:this.formData}),this.handleAuthStateChanged()}))},async saveBHYT(a){const t={"Content-Type":"application/json"},e="https://app.hotham.vn/api/user-ghi-chu",n=await fetch(e,{method:"PUT",headers:t,body:JSON.stringify({ghiChu:a})}),s=await n.json();if(s.errors)throw console.error(s.errors),new Error("Failed to fetch API");return s},async taoKhoaMoi(){let a={method:"post",maxBodyLength:1/0,url:"https://ssm-api.vnpost.vn/api/TokenAuth/Authenticate",headers:{Accept:"application/json","Content-Type":"application/json"},data:this.userDetails.smsText};const{data:t}=await l().request(a);this.formData.isLogin=t.result.accessToken,await this.firebaseUpdateUser({userId:this.userDetails.userId,updates:this.formData}),await this.handleAuthStateChanged(),window.location.href="https://todo.hotham.vn/"}},created(){this.formData={...this.userDetails}}};var r=e(1639),h=e(9885),d=e(4458),m=e(8326),p=e(7471),c=e(2857),f=e(4455),b=e(9984),g=e.n(b);const T=(0,r.Z)(u,[["render",s]]),D=T;g()(u,"components",{QPage:h.Z,QCard:d.Z,QForm:m.Z,QInput:p.Z,QIcon:c.Z,QBtn:f.Z})}}]);