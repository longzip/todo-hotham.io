"use strict";(globalThis["webpackChunktodolist"]=globalThis["webpackChunktodolist"]||[]).push([[652],{3652:(e,t,a)=>{a.r(t),a.d(t,{default:()=>A});var s=a(1758);const o={class:"row"};function r(e,t,a,r,l,n){const i=(0,s.g2)("q-input"),m=(0,s.g2)("q-space"),u=(0,s.g2)("q-btn"),d=(0,s.g2)("q-form"),p=(0,s.g2)("q-card"),c=(0,s.g2)("q-page");return(0,s.uX)(),(0,s.Wv)(c,{class:"flex q-pa-md"},{default:(0,s.k6)((()=>[(0,s.bF)(p,{class:"full-width"},{default:(0,s.k6)((()=>[(0,s.bF)(d,{onSubmit:n.submitForm},{default:(0,s.k6)((()=>[(0,s.bF)(i,{modelValue:l.formData.email,"onUpdate:modelValue":t[0]||(t[0]=e=>l.formData.email=e),class:"q-mb-md",outlined:"",type:"text",label:"Tên đăng nhập"},null,8,["modelValue"]),(0,s.bF)(i,{modelValue:l.formData.password,"onUpdate:modelValue":t[1]||(t[1]=e=>l.formData.password=e),class:"q-mb-md",outlined:"",type:"password",label:"Mật khẩu"},null,8,["modelValue"]),(0,s.Lk)("div",o,[(0,s.bF)(m),(0,s.bF)(u,{color:"primary",type:"submit",label:"Đăng nhập"})])])),_:1},8,["onSubmit"])])),_:1})])),_:1})}a(4748);var l=a(6980),n=a(6306),i=a.n(n);const m={data(){return{formData:{email:"",password:""}}},methods:{...(0,l.i0)("auth",["registerUser","loginUser"]),...(0,l.i0)("bhyts",["GetCurrentLoginInformations"]),sleep(e){return new Promise((t=>setTimeout(t,e)))},async submitForm(){const e={isWeb:!0,password:this.formData.password,rememberClient:!1,userNameOrEmailAddress:this.formData.email};let t={method:"post",maxBodyLength:1/0,url:"https://ssm-api.vnpost.vn/api/TokenAuth/Authenticate",headers:{Accept:"application/json","Content-Type":"application/json"},data:e};const{data:a}=await i().request(t),s=a.result.accessToken,o={smsText:e,isLogin:s};await this.registerUser(o),await this.sleep(2e3),this.$router.push("/")}},async mounted(){await this.sleep(2e3),localStorage.getItem("setIsLogin")&&this.$router.push("/")}};var u=a(2807),d=a(7716),p=a(3316),c=a(9200),h=a(2801),b=a(3676),g=a(1693),f=a(8582),w=a.n(f);const k=(0,u.A)(m,[["render",r]]),A=k;w()(m,"components",{QPage:d.A,QCard:p.A,QForm:c.A,QInput:h.A,QSpace:b.A,QBtn:g.A})}}]);